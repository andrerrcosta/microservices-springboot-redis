2022-08-12 00:23:11 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-12 00:23:11 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:23:11 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-12 00:23:11 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - No active profile set, falling back to default profiles: default
2022-08-12 00:23:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:23:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:23:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-12 00:23:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:23:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-12 00:23:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:23:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:23:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 JPA repository interfaces.
2022-08-12 00:23:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:23:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:23:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 60 ms. Found 2 Redis repository interfaces.
2022-08-12 00:23:12 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-12 00:23:12 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:23:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-12 00:23:12 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:23:12 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-12 00:23:12 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-12 00:23:12 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-12 00:23:12 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1092 ms
2022-08-12 00:23:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-12 00:23:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-12 00:23:13 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-12 00:23:13 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-12 00:23:13 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-12 00:23:13 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-12 00:23:13 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-12 00:23:13 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:23:14 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-12 00:23:14 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-12 00:23:15 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-12 00:23:15 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-12 00:23:15 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:23:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 33953 (http) with context path ''
2022-08-12 00:23:15 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=33953, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:33953/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-12 00:23:15 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-12 00:23:15 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#11df0bc7:0/SimpleConnection@727eae52 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 40572]
2022-08-12 00:23:15 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - Started RedisAgendaRepositoryTest in 4.341 seconds (JVM running for 5.045)
2022-08-12 00:23:15 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@66c61024 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@2df6226d, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@61fe30 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3b6ddd1d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1da2cb77, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@306e95ec, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@43dac38f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@550dbc7a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1324409e], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@61799152]; rollback [true]
2022-08-12 00:23:15 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:23:15 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)


2022-08-12 00:23:15 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)


2022-08-12 00:23:15 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]


2022-08-12 00:23:15 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]
2022-08-12 00:23:15 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@66c61024 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@2df6226d, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@61fe30 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3b6ddd1d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1da2cb77, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@306e95ec, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@43dac38f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@550dbc7a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1324409e], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-12 00:23:15 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-12 00:23:16 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-12 00:23:16 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-12 00:23:16 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:23:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-12 00:23:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-12 00:23:34 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-12 00:23:34 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:23:35 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-12 00:23:35 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - No active profile set, falling back to default profiles: default
2022-08-12 00:23:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:23:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:23:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-12 00:23:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:23:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-12 00:23:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:23:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:23:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 JPA repository interfaces.
2022-08-12 00:23:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:23:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:23:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 59 ms. Found 2 Redis repository interfaces.
2022-08-12 00:23:35 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-12 00:23:35 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:23:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-12 00:23:36 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:23:36 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-12 00:23:36 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-12 00:23:36 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-12 00:23:36 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 982 ms
2022-08-12 00:23:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-12 00:23:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-12 00:23:36 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-12 00:23:36 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-12 00:23:36 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-12 00:23:36 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-12 00:23:36 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-12 00:23:36 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:23:37 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-12 00:23:37 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-12 00:23:37 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-12 00:23:37 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-12 00:23:37 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:23:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 39465 (http) with context path ''
2022-08-12 00:23:38 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=39465, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:39465/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-12 00:23:38 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-12 00:23:38 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#17e323fd:0/SimpleConnection@7da4c956 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 40656]
2022-08-12 00:23:38 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - Started AssociateControllerTest in 3.9 seconds (JVM running for 4.609)
2022-08-12 00:23:38 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:23:39 BRT 2022, end=Fri Aug 12 00:23:59 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:23:38 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:23:39 BRT 2022, end=Fri Aug 12 00:23:59 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:23:38 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:22:39 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:22:39 BRT 2022, end=Fri Aug 12 00:23:59 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:23:38 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:39 BRT 2022, end=Fri Aug 12 00:23:59 BRT 2022)


2022-08-12 00:23:38 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Vote is: com.nobblecrafts.learn.redis.dbs.domain.Vote@5ace5b0e


2022-08-12 00:23:38 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:39 BRT 2022, end=Fri Aug 12 00:23:59 BRT 2022) foi iniciada
2022-08-12 00:23:39 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-12 00:23:39 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2022-08-12 00:23:39 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2022-08-12 00:23:39 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:39 BRT 2022, end=Fri Aug 12 00:23:59 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:39 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 
Response -> 200 OK
2022-08-12 00:23:39 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:23:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:23:39 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:23:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:23:39 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:22:40 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:23:39 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022)


2022-08-12 00:23:39 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Votes are: [com.nobblecrafts.learn.redis.dbs.domain.Vote@28f33810, com.nobblecrafts.learn.redis.dbs.domain.Vote@49588c70, com.nobblecrafts.learn.redis.dbs.domain.Vote@2fa81b23, com.nobblecrafts.learn.redis.dbs.domain.Vote@64078e6a, com.nobblecrafts.learn.redis.dbs.domain.Vote@6803b02d, com.nobblecrafts.learn.redis.dbs.domain.Vote@5c5cd332, com.nobblecrafts.learn.redis.dbs.domain.Vote@60232aad, com.nobblecrafts.learn.redis.dbs.domain.Vote@591e27f1, com.nobblecrafts.learn.redis.dbs.domain.Vote@1170d81f, com.nobblecrafts.learn.redis.dbs.domain.Vote@54a81a18, com.nobblecrafts.learn.redis.dbs.domain.Vote@155788a7, com.nobblecrafts.learn.redis.dbs.domain.Vote@43ee585f, com.nobblecrafts.learn.redis.dbs.domain.Vote@380f9c1d, com.nobblecrafts.learn.redis.dbs.domain.Vote@65c75870, com.nobblecrafts.learn.redis.dbs.domain.Vote@5753e0c4, com.nobblecrafts.learn.redis.dbs.domain.Vote@5862a07b, com.nobblecrafts.learn.redis.dbs.domain.Vote@6cd8aee2, com.nobblecrafts.learn.redis.dbs.domain.Vote@4c0e09b5, com.nobblecrafts.learn.redis.dbs.domain.Vote@1cb58c8a]


2022-08-12 00:23:39 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022) foi iniciada
2022-08-12 00:23:40 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:40 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:41 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:41 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:41 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:41 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:41 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:41 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:41 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:41 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:41 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:41 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:41 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:41 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:41 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:41 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:41 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:41 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:41 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:22:40 BRT 2022, end=Fri Aug 12 00:24:00 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:15 BRT 2022, end=Fri Aug 12 00:23:35 BRT 2022)]



2022-08-12 00:23:41 [main] INFO  c.n.l.r.d.unit.AssociateServiceTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@29c8a858



2022-08-12 00:23:41 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-12 00:23:41 [main] INFO  c.n.l.r.d.unit.AssociateServiceTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@1cfca845



2022-08-12 00:23:41 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-12 00:23:41 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - Trying to publish AgendaDTO(id=1, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:23:41 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - ANALYTICS-PUBLISHER: message sent
2022-08-12 00:23:41 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - 
exchangeName: test.exchange
routingKey: test.key
message: AgendaDTO(id=1, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:23:41 [main] INFO  c.n.l.r.dbs.unit.AgendaPublisherTest - event.getValue() -> AgendaDTO(id=1, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:23:41 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@1b596e21



2022-08-12 00:23:41 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@229f3c5d



2022-08-12 00:23:41 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest], using SpringBootContextLoader
2022-08-12 00:23:41 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-08-12 00:23:41 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest]: RedisAgendaRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-08-12 00:23:41 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.nobblecrafts.learn.redis.dbs.DbsApplication for test class com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest
2022-08-12 00:23:41 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2022-08-12 00:23:41 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4662fa99, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@54539319, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@5312c883, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7277fa93, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@23106076, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6b13f456, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2e006f67, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@63eebb56, org.springframework.test.context.event.EventPublishingTestExecutionListener@435d648d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@379899f4, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1a4eb337, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@cec9f23, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@243deb3f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@57999175, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@38a147ba]
2022-08-12 00:23:41 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@36f291c7 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@5db3afff, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@25e60726 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6a6cb05c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@22ff4249, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@662ac478, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@6f03482, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a8c8dcf, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@63355449], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2e5dea22]; rollback [true]
2022-08-12 00:23:41 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:23:41 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)


2022-08-12 00:23:41 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)


2022-08-12 00:23:41 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]


2022-08-12 00:23:41 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]
2022-08-12 00:23:41 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@36f291c7 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@5db3afff, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@25e60726 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6a6cb05c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@22ff4249, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@662ac478, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@6f03482, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7a8c8dcf, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@63355449], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-12 00:23:41 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-12 00:23:42 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-12 00:23:42 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-12 00:23:42 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:23:42 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-12 00:23:42 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-12 00:25:36 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-12 00:25:37 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:25:37 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-12 00:25:37 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - No active profile set, falling back to default profiles: default
2022-08-12 00:25:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:25:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:25:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-12 00:25:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:25:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-12 00:25:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:25:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:25:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2022-08-12 00:25:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:25:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:25:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 59 ms. Found 2 Redis repository interfaces.
2022-08-12 00:25:38 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-12 00:25:38 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:25:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-12 00:25:38 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:25:38 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-12 00:25:38 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-12 00:25:38 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-12 00:25:38 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 983 ms
2022-08-12 00:25:38 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-12 00:25:38 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-12 00:25:38 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-12 00:25:38 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-12 00:25:39 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-12 00:25:39 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-12 00:25:39 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-12 00:25:39 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:25:39 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-12 00:25:39 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-12 00:25:40 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-12 00:25:40 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-12 00:25:40 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:25:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 36165 (http) with context path ''
2022-08-12 00:25:40 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=36165, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:36165/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-12 00:25:40 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-12 00:25:40 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#444720b7:0/SimpleConnection@f2e28c7 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 40786]
2022-08-12 00:25:40 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - Started AssociateControllerTest in 4.087 seconds (JVM running for 5.084)
2022-08-12 00:25:40 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:25:41 BRT 2022, end=Fri Aug 12 00:26:01 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:25:40 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:25:41 BRT 2022, end=Fri Aug 12 00:26:01 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:25:40 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:24:41 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:24:41 BRT 2022, end=Fri Aug 12 00:26:01 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:25:40 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:41 BRT 2022, end=Fri Aug 12 00:26:01 BRT 2022)


2022-08-12 00:25:40 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Vote is: com.nobblecrafts.learn.redis.dbs.domain.Vote@11b26693


2022-08-12 00:25:40 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:41 BRT 2022, end=Fri Aug 12 00:26:01 BRT 2022) foi iniciada
2022-08-12 00:25:42 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-12 00:25:42 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2022-08-12 00:25:42 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2022-08-12 00:25:42 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:41 BRT 2022, end=Fri Aug 12 00:26:01 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:42 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 
Response -> 200 OK
2022-08-12 00:25:42 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:25:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:25:42 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:25:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:25:42 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:24:43 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:25:42 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022)


2022-08-12 00:25:42 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Votes are: [com.nobblecrafts.learn.redis.dbs.domain.Vote@35355074, com.nobblecrafts.learn.redis.dbs.domain.Vote@2e78213c, com.nobblecrafts.learn.redis.dbs.domain.Vote@3411e0d7, com.nobblecrafts.learn.redis.dbs.domain.Vote@20dab85c, com.nobblecrafts.learn.redis.dbs.domain.Vote@18563d10, com.nobblecrafts.learn.redis.dbs.domain.Vote@17caf362, com.nobblecrafts.learn.redis.dbs.domain.Vote@7798de95, com.nobblecrafts.learn.redis.dbs.domain.Vote@573f95b2, com.nobblecrafts.learn.redis.dbs.domain.Vote@7335aae5, com.nobblecrafts.learn.redis.dbs.domain.Vote@79c48ad5, com.nobblecrafts.learn.redis.dbs.domain.Vote@2c66be14, com.nobblecrafts.learn.redis.dbs.domain.Vote@290964bd, com.nobblecrafts.learn.redis.dbs.domain.Vote@75044df3, com.nobblecrafts.learn.redis.dbs.domain.Vote@22e7ec5f, com.nobblecrafts.learn.redis.dbs.domain.Vote@39d5376c, com.nobblecrafts.learn.redis.dbs.domain.Vote@2f59ecf, com.nobblecrafts.learn.redis.dbs.domain.Vote@4fc41cba, com.nobblecrafts.learn.redis.dbs.domain.Vote@120bb5b5, com.nobblecrafts.learn.redis.dbs.domain.Vote@6a2d0632]


2022-08-12 00:25:42 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022) foi iniciada
2022-08-12 00:25:43 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:24:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:23:41 BRT 2022, end=Fri Aug 12 00:24:01 BRT 2022)]



2022-08-12 00:25:43 [main] INFO  c.n.l.r.d.unit.AssociateServiceTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@79a68d4e



2022-08-12 00:25:43 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-12 00:25:43 [main] INFO  c.n.l.r.d.unit.AssociateServiceTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@2365facb



2022-08-12 00:25:43 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-12 00:25:43 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - Trying to publish AgendaDTO(id=1, start=Fri Aug 12 00:25:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:25:43 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - ANALYTICS-PUBLISHER: message sent
2022-08-12 00:25:43 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - 
exchangeName: test.exchange
routingKey: test.key
message: AgendaDTO(id=1, start=Fri Aug 12 00:25:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:25:43 [main] INFO  c.n.l.r.dbs.unit.AgendaPublisherTest - event.getValue() -> AgendaDTO(id=1, start=Fri Aug 12 00:25:43 BRT 2022, end=Fri Aug 12 00:26:03 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:25:43 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@568cc1c5



2022-08-12 00:25:43 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@3118a



2022-08-12 00:25:43 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest], using SpringBootContextLoader
2022-08-12 00:25:43 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-08-12 00:25:43 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest]: RedisAgendaRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-08-12 00:25:43 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.nobblecrafts.learn.redis.dbs.DbsApplication for test class com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest
2022-08-12 00:25:43 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2022-08-12 00:25:43 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@47e82067, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4d768435, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3990d58e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3625093d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3048ec86, org.springframework.test.context.support.DirtiesContextTestExecutionListener@49e69196, org.springframework.test.context.transaction.TransactionalTestExecutionListener@76e51181, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@68178281, org.springframework.test.context.event.EventPublishingTestExecutionListener@1f4c7fd9, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@62db3787, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3c6c5b44, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@68bbd5c2, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1475cdbb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2f29b7bd, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@71c16f67]
2022-08-12 00:25:43 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:25:43 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-12 00:25:44 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - The following profiles are active: test
2022-08-12 00:25:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:25:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:25:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2022-08-12 00:25:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:25:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-12 00:25:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:25:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:25:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2022-08-12 00:25:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:25:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:25:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 2 Redis repository interfaces.
2022-08-12 00:25:44 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-12 00:25:44 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:25:44 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-12 00:25:44 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
2022-08-12 00:25:44 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-12 00:25:44 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-12 00:25:44 [main] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-12 00:25:44 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 316 ms
2022-08-12 00:25:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2022-08-12 00:25:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2022-08-12 00:25:44 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-12 00:25:44 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-12 00:25:44 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-12 00:25:44 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:25:44 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-12 00:25:44 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-12 00:25:44 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-12 00:25:44 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-12 00:25:44 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-2"]
2022-08-12 00:25:44 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 35089 (http) with context path ''
2022-08-12 00:25:44 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=35089, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:35089/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-12 00:25:45 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-12 00:25:45 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#30865a1:0/SimpleConnection@6824c2e6 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 40844]
2022-08-12 00:25:45 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - Started RedisAgendaRepositoryTest in 1.21 seconds (JVM running for 9.608)
2022-08-12 00:25:45 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@7cd91400 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@108817cc, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@54398386 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3fc2959f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@385c9627, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15de0b3c, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@bcec361, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3bd82cf5, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3911c2a7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@15402cf4]; rollback [true]
2022-08-12 00:25:45 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:25:45 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)


2022-08-12 00:25:45 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)


2022-08-12 00:25:45 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]


2022-08-12 00:25:45 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]
2022-08-12 00:25:45 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@7cd91400 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@108817cc, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@54398386 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3fc2959f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@385c9627, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@15de0b3c, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@bcec361, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3bd82cf5, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@3911c2a7], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-12 00:25:45 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-12 00:25:45 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-12 00:25:45 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-12 00:25:45 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:25:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-12 00:25:45 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-12 00:25:45 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-12 00:25:46 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-12 00:25:46 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-12 00:25:46 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:25:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2022-08-12 00:25:46 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2022-08-12 00:29:48 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-12 00:29:48 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:29:49 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-12 00:29:49 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - No active profile set, falling back to default profiles: default
2022-08-12 00:29:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:29:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:29:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-12 00:29:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:29:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-12 00:29:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:29:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:29:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2022-08-12 00:29:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:29:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:29:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 2 Redis repository interfaces.
2022-08-12 00:29:49 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-12 00:29:50 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:29:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-12 00:29:50 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:29:50 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-12 00:29:50 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-12 00:29:50 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-12 00:29:50 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1044 ms
2022-08-12 00:29:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-12 00:29:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-12 00:29:50 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-12 00:29:50 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-12 00:29:50 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-12 00:29:50 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-12 00:29:50 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-12 00:29:50 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:29:51 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-12 00:29:51 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-12 00:29:52 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-12 00:29:52 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-12 00:29:52 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:29:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 41361 (http) with context path ''
2022-08-12 00:29:52 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=41361, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:41361/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-12 00:29:52 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-12 00:29:52 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#2fb9695a:0/SimpleConnection@2c226db0 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 40988]
2022-08-12 00:29:52 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - Started AssociateControllerTest in 3.847 seconds (JVM running for 4.71)
2022-08-12 00:29:52 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:29:53 BRT 2022, end=Fri Aug 12 00:30:13 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:29:52 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:29:53 BRT 2022, end=Fri Aug 12 00:30:13 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:29:52 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:28:53 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:28:53 BRT 2022, end=Fri Aug 12 00:30:13 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:29:52 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:53 BRT 2022, end=Fri Aug 12 00:30:13 BRT 2022)


2022-08-12 00:29:52 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Vote is: com.nobblecrafts.learn.redis.dbs.domain.Vote@11b26693


2022-08-12 00:29:52 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:53 BRT 2022, end=Fri Aug 12 00:30:13 BRT 2022) foi iniciada
2022-08-12 00:29:53 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-12 00:29:53 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2022-08-12 00:29:53 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2022-08-12 00:29:53 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:53 BRT 2022, end=Fri Aug 12 00:30:13 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:53 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 
Response -> 200 OK
2022-08-12 00:29:53 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:29:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:29:53 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:29:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:29:53 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:28:54 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:29:53 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022)


2022-08-12 00:29:53 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Votes are: [com.nobblecrafts.learn.redis.dbs.domain.Vote@5bebdfcb, com.nobblecrafts.learn.redis.dbs.domain.Vote@6e56f5d4, com.nobblecrafts.learn.redis.dbs.domain.Vote@28f33810, com.nobblecrafts.learn.redis.dbs.domain.Vote@476d5f2e, com.nobblecrafts.learn.redis.dbs.domain.Vote@42908ad5, com.nobblecrafts.learn.redis.dbs.domain.Vote@27777afd, com.nobblecrafts.learn.redis.dbs.domain.Vote@2fa81b23, com.nobblecrafts.learn.redis.dbs.domain.Vote@64078e6a, com.nobblecrafts.learn.redis.dbs.domain.Vote@5c5cd332, com.nobblecrafts.learn.redis.dbs.domain.Vote@60232aad, com.nobblecrafts.learn.redis.dbs.domain.Vote@1170d81f, com.nobblecrafts.learn.redis.dbs.domain.Vote@155788a7, com.nobblecrafts.learn.redis.dbs.domain.Vote@380f9c1d, com.nobblecrafts.learn.redis.dbs.domain.Vote@4750e942, com.nobblecrafts.learn.redis.dbs.domain.Vote@76527a00, com.nobblecrafts.learn.redis.dbs.domain.Vote@5862a07b, com.nobblecrafts.learn.redis.dbs.domain.Vote@6cd8aee2, com.nobblecrafts.learn.redis.dbs.domain.Vote@4c0e09b5, com.nobblecrafts.learn.redis.dbs.domain.Vote@2ca6937]


2022-08-12 00:29:53 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022) foi iniciada
2022-08-12 00:29:54 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:54 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:54 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:54 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:55 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:55 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:55 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:55 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:55 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:55 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:55 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:55 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:55 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:55 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:55 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:55 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:55 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:55 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:55 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:28:54 BRT 2022, end=Fri Aug 12 00:30:14 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:25:45 BRT 2022, end=Fri Aug 12 00:26:05 BRT 2022)]



2022-08-12 00:29:55 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@75564689



2022-08-12 00:29:55 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@5f7e2ca8



2022-08-12 00:29:55 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:29:55 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-12 00:29:55 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - The following profiles are active: test
2022-08-12 00:29:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:29:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:29:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2022-08-12 00:29:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:29:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-12 00:29:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:29:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:29:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 JPA repository interfaces.
2022-08-12 00:29:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:29:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:29:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 2 Redis repository interfaces.
2022-08-12 00:29:55 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-12 00:29:55 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:29:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-12 00:29:55 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
2022-08-12 00:29:55 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-12 00:29:55 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-12 00:29:55 [main] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-12 00:29:55 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 255 ms
2022-08-12 00:29:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2022-08-12 00:29:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2022-08-12 00:29:55 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-12 00:29:55 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-12 00:29:55 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-12 00:29:55 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:29:55 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-12 00:29:55 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-12 00:29:56 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-12 00:29:56 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-12 00:29:56 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-2"]
2022-08-12 00:29:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 35669 (http) with context path ''
2022-08-12 00:29:56 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=35669, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:35669/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-12 00:29:56 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-12 00:29:56 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#1f94df5:0/SimpleConnection@513babf3 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 41052]
2022-08-12 00:29:56 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - Started RedisAgendaRepositoryTest in 1.088 seconds (JVM running for 8.708)
2022-08-12 00:29:56 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@6d1953e4 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@46c6ff37, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@31fd8e6f testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@37ceb1df, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6200f9cb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@58a9760d, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@45b4c3a9, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@58ea606c, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@661972b0], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@14ab3e22]; rollback [true]
2022-08-12 00:29:56 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:29:56 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)


2022-08-12 00:29:56 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)


2022-08-12 00:29:56 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]


2022-08-12 00:29:56 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]
2022-08-12 00:29:56 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@6d1953e4 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@46c6ff37, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@31fd8e6f testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@37ceb1df, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6200f9cb, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@58a9760d, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@45b4c3a9, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@58ea606c, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@661972b0], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-12 00:29:56 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-12 00:29:57 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-12 00:29:57 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-12 00:29:57 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:29:57 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-12 00:29:57 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-12 00:29:57 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-12 00:29:58 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-12 00:29:58 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-12 00:29:58 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:29:58 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2022-08-12 00:29:58 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2022-08-12 00:30:54 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-12 00:30:54 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:30:54 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-12 00:30:54 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - No active profile set, falling back to default profiles: default
2022-08-12 00:30:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:30:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:30:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2022-08-12 00:30:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:30:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-12 00:30:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:30:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:30:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2022-08-12 00:30:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:30:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:30:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 2 Redis repository interfaces.
2022-08-12 00:30:55 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-12 00:30:55 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:30:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-12 00:30:55 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:30:55 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-12 00:30:55 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-12 00:30:55 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-12 00:30:55 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1004 ms
2022-08-12 00:30:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-12 00:30:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-12 00:30:56 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-12 00:30:56 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-12 00:30:56 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-12 00:30:56 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-12 00:30:56 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-12 00:30:56 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:30:57 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-12 00:30:57 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-12 00:30:57 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-12 00:30:57 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-12 00:30:57 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:30:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 43193 (http) with context path ''
2022-08-12 00:30:57 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=43193, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:43193/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-12 00:30:57 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-12 00:30:57 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#2c6553c6:0/SimpleConnection@781befe7 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 41134]
2022-08-12 00:30:57 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - Started AssociateControllerTest in 3.919 seconds (JVM running for 4.413)
2022-08-12 00:30:58 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:30:59 BRT 2022, end=Fri Aug 12 00:31:19 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:30:58 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:30:59 BRT 2022, end=Fri Aug 12 00:31:19 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:30:58 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:29:59 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:29:59 BRT 2022, end=Fri Aug 12 00:31:19 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:30:58 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:59 BRT 2022, end=Fri Aug 12 00:31:19 BRT 2022)


2022-08-12 00:30:58 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Vote is: com.nobblecrafts.learn.redis.dbs.domain.Vote@56c95789


2022-08-12 00:30:58 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:59 BRT 2022, end=Fri Aug 12 00:31:19 BRT 2022) foi iniciada
2022-08-12 00:30:59 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-12 00:30:59 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2022-08-12 00:30:59 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2022-08-12 00:30:59 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:59 BRT 2022, end=Fri Aug 12 00:31:19 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:30:59 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 
Response -> 200 OK
2022-08-12 00:30:59 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:31:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:30:59 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:31:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:30:59 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:30:00 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:30:59 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022)


2022-08-12 00:30:59 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Votes are: [com.nobblecrafts.learn.redis.dbs.domain.Vote@45e931a9, com.nobblecrafts.learn.redis.dbs.domain.Vote@71bebddf, com.nobblecrafts.learn.redis.dbs.domain.Vote@fed510f, com.nobblecrafts.learn.redis.dbs.domain.Vote@4a35aed6, com.nobblecrafts.learn.redis.dbs.domain.Vote@54c76c23, com.nobblecrafts.learn.redis.dbs.domain.Vote@7c1f435a, com.nobblecrafts.learn.redis.dbs.domain.Vote@30f929ff, com.nobblecrafts.learn.redis.dbs.domain.Vote@21d85933, com.nobblecrafts.learn.redis.dbs.domain.Vote@431bf770, com.nobblecrafts.learn.redis.dbs.domain.Vote@3ad49704, com.nobblecrafts.learn.redis.dbs.domain.Vote@123e87cd, com.nobblecrafts.learn.redis.dbs.domain.Vote@2fb5e706, com.nobblecrafts.learn.redis.dbs.domain.Vote@238fcafa, com.nobblecrafts.learn.redis.dbs.domain.Vote@731819a0, com.nobblecrafts.learn.redis.dbs.domain.Vote@6114ed6f, com.nobblecrafts.learn.redis.dbs.domain.Vote@49d4a2cf, com.nobblecrafts.learn.redis.dbs.domain.Vote@3c1133ad, com.nobblecrafts.learn.redis.dbs.domain.Vote@269bf9e6, com.nobblecrafts.learn.redis.dbs.domain.Vote@250c5892]


2022-08-12 00:30:59 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022) foi iniciada
2022-08-12 00:31:00 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:00 BRT 2022, end=Fri Aug 12 00:31:20 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:00 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-12 00:31:01 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-12 00:31:01 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-12 00:31:01 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:31:01 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-12 00:31:01 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-12 00:31:07 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-12 00:31:07 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:31:07 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-12 00:31:08 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - No active profile set, falling back to default profiles: default
2022-08-12 00:31:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:31:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:31:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2022-08-12 00:31:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:31:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-12 00:31:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:31:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:31:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2022-08-12 00:31:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:31:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:31:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 59 ms. Found 2 Redis repository interfaces.
2022-08-12 00:31:08 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-12 00:31:08 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:31:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-12 00:31:08 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:31:08 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-12 00:31:08 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-12 00:31:09 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-12 00:31:09 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1021 ms
2022-08-12 00:31:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-12 00:31:09 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-12 00:31:09 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-12 00:31:09 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-12 00:31:09 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-12 00:31:09 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-12 00:31:09 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-12 00:31:09 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:31:10 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-12 00:31:10 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-12 00:31:10 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-12 00:31:10 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-12 00:31:10 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:31:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 40957 (http) with context path ''
2022-08-12 00:31:10 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=40957, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:40957/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-12 00:31:10 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-12 00:31:10 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#74ea1cd0:0/SimpleConnection@196519dd [delegate=amqp://guest@127.0.0.1:5672/, localPort= 41206]
2022-08-12 00:31:10 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - Started AssociateControllerTest in 3.888 seconds (JVM running for 4.801)
2022-08-12 00:31:11 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:31:12 BRT 2022, end=Fri Aug 12 00:31:32 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:31:11 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:31:12 BRT 2022, end=Fri Aug 12 00:31:32 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:31:11 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:30:12 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:30:12 BRT 2022, end=Fri Aug 12 00:31:32 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:31:11 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:12 BRT 2022, end=Fri Aug 12 00:31:32 BRT 2022)


2022-08-12 00:31:11 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Vote is: com.nobblecrafts.learn.redis.dbs.domain.Vote@3abe1c9e


2022-08-12 00:31:11 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:12 BRT 2022, end=Fri Aug 12 00:31:32 BRT 2022) foi iniciada
2022-08-12 00:31:12 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-12 00:31:12 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2022-08-12 00:31:12 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2022-08-12 00:31:12 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:12 BRT 2022, end=Fri Aug 12 00:31:32 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:12 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 
Response -> 200 OK
2022-08-12 00:31:12 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:31:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:31:12 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:31:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:31:12 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:30:13 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:31:12 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022)


2022-08-12 00:31:12 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Votes are: [com.nobblecrafts.learn.redis.dbs.domain.Vote@2a3ced3d, com.nobblecrafts.learn.redis.dbs.domain.Vote@4b477d05, com.nobblecrafts.learn.redis.dbs.domain.Vote@d4df4ce, com.nobblecrafts.learn.redis.dbs.domain.Vote@44929971, com.nobblecrafts.learn.redis.dbs.domain.Vote@304f4888, com.nobblecrafts.learn.redis.dbs.domain.Vote@13448d2d, com.nobblecrafts.learn.redis.dbs.domain.Vote@470ce6e7, com.nobblecrafts.learn.redis.dbs.domain.Vote@3444ac8f, com.nobblecrafts.learn.redis.dbs.domain.Vote@2c8174ce, com.nobblecrafts.learn.redis.dbs.domain.Vote@6e13e2fc, com.nobblecrafts.learn.redis.dbs.domain.Vote@2564410b, com.nobblecrafts.learn.redis.dbs.domain.Vote@35b97c69, com.nobblecrafts.learn.redis.dbs.domain.Vote@39a8905b, com.nobblecrafts.learn.redis.dbs.domain.Vote@2c07277f, com.nobblecrafts.learn.redis.dbs.domain.Vote@7c5dbca5, com.nobblecrafts.learn.redis.dbs.domain.Vote@6d6c4775, com.nobblecrafts.learn.redis.dbs.domain.Vote@4e881e14, com.nobblecrafts.learn.redis.dbs.domain.Vote@344d6bb3, com.nobblecrafts.learn.redis.dbs.domain.Vote@3ab26cad]


2022-08-12 00:31:12 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022) foi iniciada
2022-08-12 00:31:13 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:30:13 BRT 2022, end=Fri Aug 12 00:31:33 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:29:56 BRT 2022, end=Fri Aug 12 00:30:16 BRT 2022)]



2022-08-12 00:31:13 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@e182453



2022-08-12 00:31:13 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@7ae736a8



2022-08-12 00:31:14 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:31:14 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-12 00:31:14 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - The following profiles are active: test
2022-08-12 00:31:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:31:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:31:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2022-08-12 00:31:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:31:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-12 00:31:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:31:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:31:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 JPA repository interfaces.
2022-08-12 00:31:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:31:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:31:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 2 Redis repository interfaces.
2022-08-12 00:31:14 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-12 00:31:14 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:31:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-12 00:31:14 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
2022-08-12 00:31:14 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-12 00:31:14 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-12 00:31:14 [main] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-12 00:31:14 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 291 ms
2022-08-12 00:31:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2022-08-12 00:31:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2022-08-12 00:31:14 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-12 00:31:14 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-12 00:31:14 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-12 00:31:14 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:31:14 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-12 00:31:14 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-12 00:31:14 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-12 00:31:14 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-12 00:31:14 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-2"]
2022-08-12 00:31:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 41497 (http) with context path ''
2022-08-12 00:31:14 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=41497, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:41497/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-12 00:31:15 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-12 00:31:15 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#46672a62:0/SimpleConnection@16e693c1 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 41262]
2022-08-12 00:31:15 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - Started RedisAgendaRepositoryTest in 1.133 seconds (JVM running for 8.87)
2022-08-12 00:31:15 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@6cf50207 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@3f707d71, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3697cfee testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61322f9d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7817fd62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f4a47c7, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@c0c2f8d, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1e178745, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@61862a7f], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@677480c8]; rollback [true]
2022-08-12 00:31:15 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:31:15 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)


2022-08-12 00:31:15 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)


2022-08-12 00:31:15 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]


2022-08-12 00:31:15 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]
2022-08-12 00:31:15 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@6cf50207 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@3f707d71, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3697cfee testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@61322f9d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7817fd62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6f4a47c7, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@c0c2f8d, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1e178745, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@61862a7f], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-12 00:31:15 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-12 00:31:15 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-12 00:31:16 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-12 00:31:16 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:31:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-12 00:31:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-12 00:31:16 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-12 00:31:17 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-12 00:31:17 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-12 00:31:17 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:31:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2022-08-12 00:31:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2022-08-12 00:32:16 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-12 00:32:16 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:32:17 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-12 00:32:17 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - The following profiles are active: test
2022-08-12 00:32:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:32:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:32:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2022-08-12 00:32:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:32:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-12 00:32:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:32:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:32:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2022-08-12 00:32:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:32:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:32:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 2 Redis repository interfaces.
2022-08-12 00:32:17 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-12 00:32:17 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:32:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-12 00:32:17 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:32:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-12 00:32:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-12 00:32:18 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-12 00:32:18 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 915 ms
2022-08-12 00:32:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-12 00:32:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-12 00:32:18 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-12 00:32:18 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-12 00:32:18 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-12 00:32:18 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-12 00:32:18 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-12 00:32:18 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:32:19 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-12 00:32:19 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-12 00:32:19 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-12 00:32:19 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-12 00:32:19 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:32:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 36235 (http) with context path ''
2022-08-12 00:32:19 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=36235, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:36235/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-12 00:32:19 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-12 00:32:19 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#699fe19f:0/SimpleConnection@4baf3987 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 41348]
2022-08-12 00:32:19 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - Started AssociateControllerTest in 3.736 seconds (JVM running for 4.659)
2022-08-12 00:32:20 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:32:21 BRT 2022, end=Fri Aug 12 00:32:41 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:32:20 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:32:21 BRT 2022, end=Fri Aug 12 00:32:41 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:32:20 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:31:21 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:31:21 BRT 2022, end=Fri Aug 12 00:32:41 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:32:20 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:21 BRT 2022, end=Fri Aug 12 00:32:41 BRT 2022)


2022-08-12 00:32:20 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Vote is: com.nobblecrafts.learn.redis.dbs.domain.Vote@31741bb6


2022-08-12 00:32:20 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:21 BRT 2022, end=Fri Aug 12 00:32:41 BRT 2022) foi iniciada
2022-08-12 00:32:21 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-12 00:32:21 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2022-08-12 00:32:21 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2022-08-12 00:32:21 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:21 BRT 2022, end=Fri Aug 12 00:32:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:21 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 
Response -> 200 OK
2022-08-12 00:32:21 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:32:21 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:32:21 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:31:22 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:32:21 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)


2022-08-12 00:32:21 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Votes are: [com.nobblecrafts.learn.redis.dbs.domain.Vote@28f33810, com.nobblecrafts.learn.redis.dbs.domain.Vote@49588c70, com.nobblecrafts.learn.redis.dbs.domain.Vote@2fa81b23, com.nobblecrafts.learn.redis.dbs.domain.Vote@64078e6a, com.nobblecrafts.learn.redis.dbs.domain.Vote@6803b02d, com.nobblecrafts.learn.redis.dbs.domain.Vote@5c5cd332, com.nobblecrafts.learn.redis.dbs.domain.Vote@60232aad, com.nobblecrafts.learn.redis.dbs.domain.Vote@591e27f1, com.nobblecrafts.learn.redis.dbs.domain.Vote@1170d81f, com.nobblecrafts.learn.redis.dbs.domain.Vote@54a81a18, com.nobblecrafts.learn.redis.dbs.domain.Vote@155788a7, com.nobblecrafts.learn.redis.dbs.domain.Vote@43ee585f, com.nobblecrafts.learn.redis.dbs.domain.Vote@380f9c1d, com.nobblecrafts.learn.redis.dbs.domain.Vote@65c75870, com.nobblecrafts.learn.redis.dbs.domain.Vote@5753e0c4, com.nobblecrafts.learn.redis.dbs.domain.Vote@5862a07b, com.nobblecrafts.learn.redis.dbs.domain.Vote@6cd8aee2, com.nobblecrafts.learn.redis.dbs.domain.Vote@4c0e09b5, com.nobblecrafts.learn.redis.dbs.domain.Vote@1cb58c8a]


2022-08-12 00:32:21 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022) foi iniciada
2022-08-12 00:32:22 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:31:15 BRT 2022, end=Fri Aug 12 00:31:35 BRT 2022)]



2022-08-12 00:32:22 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@765650e4



2022-08-12 00:32:22 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@2df019b8



2022-08-12 00:32:22 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@358caf3a testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@2fc72df3, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72288b38 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3d34d211, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@43c1b556, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@707194ba, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@7ee8290b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@31f9b85e, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@2e005c4b], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1e08f0cd]; rollback [true]
2022-08-12 00:32:22 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:32:22 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)


2022-08-12 00:32:22 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)


2022-08-12 00:32:22 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]


2022-08-12 00:32:22 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]
2022-08-12 00:32:22 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@358caf3a testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@2fc72df3, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@72288b38 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3d34d211, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@43c1b556, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@707194ba, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@7ee8290b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@31f9b85e, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@2e005c4b], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-12 00:32:22 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-12 00:32:22 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-12 00:32:22 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-12 00:32:23 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:32:23 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-12 00:32:23 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-12 00:33:23 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-12 00:33:23 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:33:23 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-12 00:33:23 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - The following profiles are active: test
2022-08-12 00:33:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:33:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:33:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-12 00:33:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:33:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-12 00:33:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:33:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:33:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2022-08-12 00:33:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:33:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:33:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 88 ms. Found 2 Redis repository interfaces.
2022-08-12 00:33:24 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-12 00:33:24 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:33:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-12 00:33:24 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:33:24 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-12 00:33:24 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-12 00:33:24 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-12 00:33:24 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1036 ms
2022-08-12 00:33:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-12 00:33:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-12 00:33:25 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-12 00:33:25 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-12 00:33:25 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-12 00:33:25 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-12 00:33:25 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-12 00:33:25 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:33:25 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-12 00:33:25 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-12 00:33:26 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-12 00:33:26 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-12 00:33:26 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:33:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 44561 (http) with context path ''
2022-08-12 00:33:26 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=44561, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:44561/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-12 00:33:26 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-12 00:33:26 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#100d071:0/SimpleConnection@2a9e261d [delegate=amqp://guest@127.0.0.1:5672/, localPort= 41440]
2022-08-12 00:33:26 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - Started AssociateControllerTest in 3.985 seconds (JVM running for 4.678)
2022-08-12 00:33:26 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:33:27 BRT 2022, end=Fri Aug 12 00:33:47 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:33:26 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:33:27 BRT 2022, end=Fri Aug 12 00:33:47 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:33:26 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:32:27 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:32:27 BRT 2022, end=Fri Aug 12 00:33:47 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:33:26 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:27 BRT 2022, end=Fri Aug 12 00:33:47 BRT 2022)


2022-08-12 00:33:26 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Vote is: com.nobblecrafts.learn.redis.dbs.domain.Vote@334d96af


2022-08-12 00:33:27 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:27 BRT 2022, end=Fri Aug 12 00:33:47 BRT 2022) foi iniciada
2022-08-12 00:33:28 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-12 00:33:28 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2022-08-12 00:33:28 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2022-08-12 00:33:28 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:27 BRT 2022, end=Fri Aug 12 00:33:47 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:28 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 
Response -> 200 OK
2022-08-12 00:33:28 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:33:28 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:33:28 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:32:29 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:33:28 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)


2022-08-12 00:33:28 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Votes are: [com.nobblecrafts.learn.redis.dbs.domain.Vote@794c22cd, com.nobblecrafts.learn.redis.dbs.domain.Vote@1d07fb2, com.nobblecrafts.learn.redis.dbs.domain.Vote@2df019b8, com.nobblecrafts.learn.redis.dbs.domain.Vote@1c04dae9, com.nobblecrafts.learn.redis.dbs.domain.Vote@319428ba, com.nobblecrafts.learn.redis.dbs.domain.Vote@223ed38f, com.nobblecrafts.learn.redis.dbs.domain.Vote@26753687, com.nobblecrafts.learn.redis.dbs.domain.Vote@765650e4, com.nobblecrafts.learn.redis.dbs.domain.Vote@307cf289, com.nobblecrafts.learn.redis.dbs.domain.Vote@65977161, com.nobblecrafts.learn.redis.dbs.domain.Vote@5f7e2ca8, com.nobblecrafts.learn.redis.dbs.domain.Vote@66ab765c, com.nobblecrafts.learn.redis.dbs.domain.Vote@36821a1b, com.nobblecrafts.learn.redis.dbs.domain.Vote@5a2e4e77, com.nobblecrafts.learn.redis.dbs.domain.Vote@46f5030f, com.nobblecrafts.learn.redis.dbs.domain.Vote@34adce96, com.nobblecrafts.learn.redis.dbs.domain.Vote@18b77ec9, com.nobblecrafts.learn.redis.dbs.domain.Vote@4872d04d, com.nobblecrafts.learn.redis.dbs.domain.Vote@75564689]


2022-08-12 00:33:28 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022) foi iniciada
2022-08-12 00:33:29 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:32:22 BRT 2022, end=Fri Aug 12 00:32:42 BRT 2022)]



2022-08-12 00:33:29 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@6bbd645



2022-08-12 00:33:29 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@672c6b93



2022-08-12 00:33:29 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@4cb1af3f testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@56034552, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@32bff23d testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6989da5e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@682b2fa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3857f613, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@302552ec, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@247bddad, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1725dc0f], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@14b4caba]; rollback [true]
2022-08-12 00:33:29 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:33:29 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)


2022-08-12 00:33:29 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)


2022-08-12 00:33:29 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]


2022-08-12 00:33:29 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]
2022-08-12 00:33:29 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@4cb1af3f testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@56034552, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@32bff23d testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6989da5e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@682b2fa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3857f613, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@302552ec, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@247bddad, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1725dc0f], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-12 00:33:29 [main] INFO  c.n.l.r.d.unit.AssociateServiceTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@106a6a1b



2022-08-12 00:33:29 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-12 00:33:29 [main] INFO  c.n.l.r.d.unit.AssociateServiceTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@63a9ab7d



2022-08-12 00:33:29 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-12 00:33:30 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-12 00:33:30 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-12 00:33:30 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-12 00:33:30 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:33:30 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-12 00:33:30 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-12 00:34:44 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-12 00:34:44 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:34:45 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-12 00:34:45 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - The following profiles are active: test
2022-08-12 00:34:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:34:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:34:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-12 00:34:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:34:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-12 00:34:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:34:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:34:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2022-08-12 00:34:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:34:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:34:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 59 ms. Found 2 Redis repository interfaces.
2022-08-12 00:34:45 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-12 00:34:45 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:34:46 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-12 00:34:46 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:34:46 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-12 00:34:46 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-12 00:34:46 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-12 00:34:46 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 981 ms
2022-08-12 00:34:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-12 00:34:46 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-12 00:34:46 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-12 00:34:46 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-12 00:34:46 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-12 00:34:46 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-12 00:34:46 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-12 00:34:46 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:34:47 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-12 00:34:47 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-12 00:34:47 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-12 00:34:47 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-12 00:34:47 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:34:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 38187 (http) with context path ''
2022-08-12 00:34:48 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=38187, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:38187/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-12 00:34:48 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-12 00:34:48 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#5984742f:0/SimpleConnection@470b7fcf [delegate=amqp://guest@127.0.0.1:5672/, localPort= 41544]
2022-08-12 00:34:48 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - Started AssociateControllerTest in 3.785 seconds (JVM running for 4.502)
2022-08-12 00:34:48 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:35:09 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:34:48 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:35:09 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:34:48 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:33:49 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:33:49 BRT 2022, end=Fri Aug 12 00:35:09 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:34:48 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:49 BRT 2022, end=Fri Aug 12 00:35:09 BRT 2022)


2022-08-12 00:34:48 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Vote is: com.nobblecrafts.learn.redis.dbs.domain.Vote@58453967


2022-08-12 00:34:48 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:49 BRT 2022, end=Fri Aug 12 00:35:09 BRT 2022) foi iniciada
2022-08-12 00:34:49 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-12 00:34:49 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2022-08-12 00:34:49 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2022-08-12 00:34:49 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:49 BRT 2022, end=Fri Aug 12 00:35:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:49 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 
Response -> 200 OK
2022-08-12 00:34:49 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:34:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:34:49 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:34:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:34:49 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:33:50 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:34:49 [VotationThreadPool3] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022)


2022-08-12 00:34:49 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Votes are: [com.nobblecrafts.learn.redis.dbs.domain.Vote@461f295c, com.nobblecrafts.learn.redis.dbs.domain.Vote@59be715a, com.nobblecrafts.learn.redis.dbs.domain.Vote@7b3b763d, com.nobblecrafts.learn.redis.dbs.domain.Vote@25a41143, com.nobblecrafts.learn.redis.dbs.domain.Vote@2d7bfb13, com.nobblecrafts.learn.redis.dbs.domain.Vote@e182453, com.nobblecrafts.learn.redis.dbs.domain.Vote@39d0775c, com.nobblecrafts.learn.redis.dbs.domain.Vote@40a1916d, com.nobblecrafts.learn.redis.dbs.domain.Vote@1ea6446b, com.nobblecrafts.learn.redis.dbs.domain.Vote@2cef4321, com.nobblecrafts.learn.redis.dbs.domain.Vote@7ae736a8, com.nobblecrafts.learn.redis.dbs.domain.Vote@50e0541, com.nobblecrafts.learn.redis.dbs.domain.Vote@5f0bcadb, com.nobblecrafts.learn.redis.dbs.domain.Vote@6654e105, com.nobblecrafts.learn.redis.dbs.domain.Vote@29c471f6, com.nobblecrafts.learn.redis.dbs.domain.Vote@424769f2, com.nobblecrafts.learn.redis.dbs.domain.Vote@1467dcd0, com.nobblecrafts.learn.redis.dbs.domain.Vote@34ceefb5, com.nobblecrafts.learn.redis.dbs.domain.Vote@6859f102]


2022-08-12 00:34:49 [VotationThreadPool3] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022) foi iniciada
2022-08-12 00:34:50 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:50 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:50 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:50 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:50 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:51 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:51 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:51 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:51 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:51 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:51 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:51 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:51 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:51 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:51 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:51 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:51 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:51 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:51 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:50 BRT 2022, end=Fri Aug 12 00:35:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:33:29 BRT 2022, end=Fri Aug 12 00:33:49 BRT 2022)]



2022-08-12 00:34:51 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@222557fc



2022-08-12 00:34:51 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@6a7eef27



2022-08-12 00:34:51 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@2dfdea3a testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@4b1339bf, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@46f43f50 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1165b38, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3b69e7d1, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5bda8e08, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@62ddbd7e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@b3ca52e, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21de60b4], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@618d2191]; rollback [true]
2022-08-12 00:34:51 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Fri Aug 12 00:34:51 BRT 2022, end=Fri Aug 12 00:35:11 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:34:51 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:51 BRT 2022, end=Fri Aug 12 00:35:11 BRT 2022)


2022-08-12 00:34:51 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:51 BRT 2022, end=Fri Aug 12 00:35:11 BRT 2022)


2022-08-12 00:34:51 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:51 BRT 2022, end=Fri Aug 12 00:35:11 BRT 2022)]


2022-08-12 00:34:51 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:51 BRT 2022, end=Fri Aug 12 00:35:11 BRT 2022)]
2022-08-12 00:34:51 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@2dfdea3a testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@4b1339bf, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@46f43f50 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1165b38, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3b69e7d1, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@5bda8e08, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@62ddbd7e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@b3ca52e, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@21de60b4], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-12 00:34:51 [main] INFO  c.n.l.r.d.unit.AssociateServiceTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@67e42fd6



2022-08-12 00:34:51 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-12 00:34:51 [main] INFO  c.n.l.r.d.unit.AssociateServiceTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@586be63c



2022-08-12 00:34:51 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-12 00:34:51 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - Trying to publish AgendaDTO(id=1, start=Fri Aug 12 00:34:51 BRT 2022, end=Fri Aug 12 00:35:11 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:34:51 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - ANALYTICS-PUBLISHER: message sent
2022-08-12 00:34:51 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - 
exchangeName: test.exchange
routingKey: test.key
message: AgendaDTO(id=1, start=Fri Aug 12 00:34:51 BRT 2022, end=Fri Aug 12 00:35:11 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:34:51 [main] INFO  c.n.l.r.dbs.unit.AgendaPublisherTest - event.getValue() -> AgendaDTO(id=1, start=Fri Aug 12 00:34:51 BRT 2022, end=Fri Aug 12 00:35:11 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:34:51 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-12 00:34:52 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-12 00:34:52 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-12 00:34:52 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:34:52 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-12 00:34:52 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-12 00:35:43 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-12 00:35:44 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:35:44 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-12 00:35:44 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - The following profiles are active: test
2022-08-12 00:35:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:35:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:35:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-12 00:35:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:35:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-12 00:35:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:35:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:35:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2022-08-12 00:35:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:35:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:35:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 2 Redis repository interfaces.
2022-08-12 00:35:45 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-12 00:35:45 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:35:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-12 00:35:45 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:35:45 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-12 00:35:45 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-12 00:35:45 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-12 00:35:45 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 983 ms
2022-08-12 00:35:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-12 00:35:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-12 00:35:45 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-12 00:35:46 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-12 00:35:46 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-12 00:35:46 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-12 00:35:46 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-12 00:35:46 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:35:46 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-12 00:35:46 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-12 00:35:47 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-12 00:35:47 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-12 00:35:47 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:35:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 40091 (http) with context path ''
2022-08-12 00:35:47 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=40091, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:40091/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-12 00:35:47 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-12 00:35:47 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#74214ac3:0/SimpleConnection@5bf86398 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 41636]
2022-08-12 00:35:47 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - Started RedisAgendaRepositoryTest in 3.853 seconds (JVM running for 4.607)
2022-08-12 00:35:47 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@5bfa8cc5 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@1b065145, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@666b83a4 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6ab778a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1dac5ef, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2f465398, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@2118cddf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ba54932, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@2b662a77], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@37e7e089]; rollback [true]
2022-08-12 00:35:47 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:35:48 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)


2022-08-12 00:35:48 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)


2022-08-12 00:35:48 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]


2022-08-12 00:35:48 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]
2022-08-12 00:35:48 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@5bfa8cc5 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@1b065145, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@666b83a4 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6ab778a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1dac5ef, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2f465398, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@2118cddf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@ba54932, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@2b662a77], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-12 00:35:48 [main] INFO  c.n.l.r.d.unit.AssociateServiceTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@33d9904f



2022-08-12 00:35:48 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-12 00:35:48 [main] INFO  c.n.l.r.d.unit.AssociateServiceTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@69aa2adb



2022-08-12 00:35:48 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-12 00:35:48 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.nobblecrafts.learn.redis.dbs.integration.AssociateControllerTest], using SpringBootContextLoader
2022-08-12 00:35:48 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.nobblecrafts.learn.redis.dbs.integration.AssociateControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-08-12 00:35:48 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.nobblecrafts.learn.redis.dbs.integration.AssociateControllerTest]: AssociateControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-08-12 00:35:48 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.nobblecrafts.learn.redis.dbs.DbsApplication for test class com.nobblecrafts.learn.redis.dbs.integration.AssociateControllerTest
2022-08-12 00:35:48 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2022-08-12 00:35:48 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@5633e852, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@774cc4a9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3d5105ed, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7427c8d4, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3d9fdf7a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2c673dec, org.springframework.test.context.transaction.TransactionalTestExecutionListener@192c3be0, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@53872179, org.springframework.test.context.event.EventPublishingTestExecutionListener@1020407c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@53d87c9, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7d364fb5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@17d03583, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@561a4a5, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6c8b680f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@238fd9cc]
2022-08-12 00:35:48 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:35:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:35:48 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:35:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:35:48 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:34:49 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:35:48 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022)


2022-08-12 00:35:48 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Votes are: [com.nobblecrafts.learn.redis.dbs.domain.Vote@7ec9780b, com.nobblecrafts.learn.redis.dbs.domain.Vote@65f913fd, com.nobblecrafts.learn.redis.dbs.domain.Vote@222abb8f, com.nobblecrafts.learn.redis.dbs.domain.Vote@3b89bccf, com.nobblecrafts.learn.redis.dbs.domain.Vote@ec50502, com.nobblecrafts.learn.redis.dbs.domain.Vote@8d0dcd9, com.nobblecrafts.learn.redis.dbs.domain.Vote@299a0651, com.nobblecrafts.learn.redis.dbs.domain.Vote@2ef86335, com.nobblecrafts.learn.redis.dbs.domain.Vote@587b24b5, com.nobblecrafts.learn.redis.dbs.domain.Vote@502356ec, com.nobblecrafts.learn.redis.dbs.domain.Vote@52fe7c0f, com.nobblecrafts.learn.redis.dbs.domain.Vote@79442196, com.nobblecrafts.learn.redis.dbs.domain.Vote@525b416f, com.nobblecrafts.learn.redis.dbs.domain.Vote@2fa7a4d3, com.nobblecrafts.learn.redis.dbs.domain.Vote@56059cf1, com.nobblecrafts.learn.redis.dbs.domain.Vote@4518e64, com.nobblecrafts.learn.redis.dbs.domain.Vote@7668b4ff, com.nobblecrafts.learn.redis.dbs.domain.Vote@7101fb1c, com.nobblecrafts.learn.redis.dbs.domain.Vote@79ab79f6]


2022-08-12 00:35:48 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022) foi iniciada
2022-08-12 00:35:49 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-12 00:35:49 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2022-08-12 00:35:49 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2022-08-12 00:35:49 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:49 BRT 2022, end=Fri Aug 12 00:36:09 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:49 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:35:50 BRT 2022, end=Fri Aug 12 00:36:10 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:35:49 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:35:50 BRT 2022, end=Fri Aug 12 00:36:10 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:35:49 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:34:50 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:34:50 BRT 2022, end=Fri Aug 12 00:36:10 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:35:49 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:50 BRT 2022, end=Fri Aug 12 00:36:10 BRT 2022)


2022-08-12 00:35:49 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Vote is: com.nobblecrafts.learn.redis.dbs.domain.Vote@4469046b


2022-08-12 00:35:49 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:50 BRT 2022, end=Fri Aug 12 00:36:10 BRT 2022) foi iniciada
2022-08-12 00:35:50 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:34:50 BRT 2022, end=Fri Aug 12 00:36:10 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:35:50 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 
Response -> 200 OK
2022-08-12 00:35:51 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - Trying to publish AgendaDTO(id=1, start=Fri Aug 12 00:35:51 BRT 2022, end=Fri Aug 12 00:36:11 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:35:51 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - ANALYTICS-PUBLISHER: message sent
2022-08-12 00:35:51 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - 
exchangeName: test.exchange
routingKey: test.key
message: AgendaDTO(id=1, start=Fri Aug 12 00:35:51 BRT 2022, end=Fri Aug 12 00:36:11 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:35:51 [main] INFO  c.n.l.r.dbs.unit.AgendaPublisherTest - event.getValue() -> AgendaDTO(id=1, start=Fri Aug 12 00:35:51 BRT 2022, end=Fri Aug 12 00:36:11 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:35:51 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-12 00:35:51 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-12 00:35:51 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-12 00:35:51 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:35:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-12 00:35:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-12 00:36:42 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-12 00:36:42 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:36:42 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-12 00:36:43 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - The following profiles are active: test
2022-08-12 00:36:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:36:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:36:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-12 00:36:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:36:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-12 00:36:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:36:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:36:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 JPA repository interfaces.
2022-08-12 00:36:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:36:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:36:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 60 ms. Found 2 Redis repository interfaces.
2022-08-12 00:36:43 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-12 00:36:43 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:36:43 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-12 00:36:43 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:36:43 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-12 00:36:43 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-12 00:36:44 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-12 00:36:44 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1029 ms
2022-08-12 00:36:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-12 00:36:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-12 00:36:44 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-12 00:36:44 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-12 00:36:44 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-12 00:36:44 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-12 00:36:44 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-12 00:36:44 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:36:45 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-12 00:36:45 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-12 00:36:45 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-12 00:36:45 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-12 00:36:45 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:36:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 35145 (http) with context path ''
2022-08-12 00:36:45 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=35145, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:35145/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-12 00:36:45 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-12 00:36:45 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#65a01901:0/SimpleConnection@14ca4b4d [delegate=amqp://guest@127.0.0.1:5672/, localPort= 41720]
2022-08-12 00:36:46 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - Started AssociateControllerTest in 3.949 seconds (JVM running for 4.448)
2022-08-12 00:36:46 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:36:47 BRT 2022, end=Fri Aug 12 00:37:07 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:36:46 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:36:47 BRT 2022, end=Fri Aug 12 00:37:07 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:36:46 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:35:47 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:37:07 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:36:46 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:37:07 BRT 2022)


2022-08-12 00:36:46 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Vote is: com.nobblecrafts.learn.redis.dbs.domain.Vote@2623ad23


2022-08-12 00:36:46 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:37:07 BRT 2022) foi iniciada
2022-08-12 00:36:47 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-12 00:36:47 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2022-08-12 00:36:47 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2022-08-12 00:36:47 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:37:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:47 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 
Response -> 200 OK
2022-08-12 00:36:47 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:36:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:36:47 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:36:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:36:47 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:35:48 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:36:47 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022)


2022-08-12 00:36:47 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Votes are: [com.nobblecrafts.learn.redis.dbs.domain.Vote@246f9fa8, com.nobblecrafts.learn.redis.dbs.domain.Vote@330f3046, com.nobblecrafts.learn.redis.dbs.domain.Vote@7af85b32, com.nobblecrafts.learn.redis.dbs.domain.Vote@5135b459, com.nobblecrafts.learn.redis.dbs.domain.Vote@3a770af8, com.nobblecrafts.learn.redis.dbs.domain.Vote@401b7109, com.nobblecrafts.learn.redis.dbs.domain.Vote@1d8f835c, com.nobblecrafts.learn.redis.dbs.domain.Vote@4d001a14, com.nobblecrafts.learn.redis.dbs.domain.Vote@858bf8c, com.nobblecrafts.learn.redis.dbs.domain.Vote@bb78f01, com.nobblecrafts.learn.redis.dbs.domain.Vote@10bf2726, com.nobblecrafts.learn.redis.dbs.domain.Vote@1caf77f6, com.nobblecrafts.learn.redis.dbs.domain.Vote@2ae25358, com.nobblecrafts.learn.redis.dbs.domain.Vote@4d462edc, com.nobblecrafts.learn.redis.dbs.domain.Vote@779e66e5, com.nobblecrafts.learn.redis.dbs.domain.Vote@312ddc51, com.nobblecrafts.learn.redis.dbs.domain.Vote@55785ee7, com.nobblecrafts.learn.redis.dbs.domain.Vote@45c5cd9a, com.nobblecrafts.learn.redis.dbs.domain.Vote@30c1447e]


2022-08-12 00:36:47 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022) foi iniciada
2022-08-12 00:36:48 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:48 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:48 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:48 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:48 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:48 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:48 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:48 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:48 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:48 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:48 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:48 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:48 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:49 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:49 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:49 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:49 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:49 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:49 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:48 BRT 2022, end=Fri Aug 12 00:37:08 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:36:49 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-12 00:36:50 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-12 00:36:50 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-12 00:36:50 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:36:50 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-12 00:36:50 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-12 00:36:54 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-12 00:36:54 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:36:55 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-12 00:36:55 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - The following profiles are active: test
2022-08-12 00:36:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:36:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:36:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-12 00:36:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:36:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-12 00:36:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:36:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:36:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2022-08-12 00:36:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:36:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:36:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 70 ms. Found 2 Redis repository interfaces.
2022-08-12 00:36:56 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-12 00:36:56 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:36:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-12 00:36:56 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:36:56 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-12 00:36:56 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-12 00:36:56 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-12 00:36:56 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1000 ms
2022-08-12 00:36:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-12 00:36:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-12 00:36:56 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-12 00:36:56 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-12 00:36:56 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-12 00:36:57 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-12 00:36:57 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-12 00:36:57 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:36:57 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-12 00:36:57 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-12 00:36:58 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-12 00:36:58 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-12 00:36:58 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:36:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 42267 (http) with context path ''
2022-08-12 00:36:58 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=42267, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:42267/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-12 00:36:58 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-12 00:36:58 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#7f19430f:0/SimpleConnection@740ef827 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 41788]
2022-08-12 00:36:58 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - Started AssociateControllerTest in 3.964 seconds (JVM running for 4.87)
2022-08-12 00:36:58 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:36:59 BRT 2022, end=Fri Aug 12 00:37:19 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:36:58 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:36:59 BRT 2022, end=Fri Aug 12 00:37:19 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:36:58 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:35:59 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:35:59 BRT 2022, end=Fri Aug 12 00:37:19 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:36:58 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:59 BRT 2022, end=Fri Aug 12 00:37:19 BRT 2022)


2022-08-12 00:36:58 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Vote is: com.nobblecrafts.learn.redis.dbs.domain.Vote@4d619aa0


2022-08-12 00:36:58 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:59 BRT 2022, end=Fri Aug 12 00:37:19 BRT 2022) foi iniciada
2022-08-12 00:36:59 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-12 00:36:59 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2022-08-12 00:36:59 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2022-08-12 00:37:00 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:59 BRT 2022, end=Fri Aug 12 00:37:19 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:00 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 
Response -> 200 OK
2022-08-12 00:37:00 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:37:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:37:00 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:37:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:37:00 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:36:01 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:37:00 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022)


2022-08-12 00:37:00 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Votes are: [com.nobblecrafts.learn.redis.dbs.domain.Vote@484f7fad, com.nobblecrafts.learn.redis.dbs.domain.Vote@4ae1ee85, com.nobblecrafts.learn.redis.dbs.domain.Vote@18563d10, com.nobblecrafts.learn.redis.dbs.domain.Vote@17f8c75e, com.nobblecrafts.learn.redis.dbs.domain.Vote@474f69d, com.nobblecrafts.learn.redis.dbs.domain.Vote@4afb2c90, com.nobblecrafts.learn.redis.dbs.domain.Vote@7798de95, com.nobblecrafts.learn.redis.dbs.domain.Vote@573f95b2, com.nobblecrafts.learn.redis.dbs.domain.Vote@79927a7c, com.nobblecrafts.learn.redis.dbs.domain.Vote@358b70c4, com.nobblecrafts.learn.redis.dbs.domain.Vote@593f6c3, com.nobblecrafts.learn.redis.dbs.domain.Vote@6a17ab87, com.nobblecrafts.learn.redis.dbs.domain.Vote@61d87509, com.nobblecrafts.learn.redis.dbs.domain.Vote@20ca2c3f, com.nobblecrafts.learn.redis.dbs.domain.Vote@134b9d9c, com.nobblecrafts.learn.redis.dbs.domain.Vote@3199c2c1, com.nobblecrafts.learn.redis.dbs.domain.Vote@74c997b1, com.nobblecrafts.learn.redis.dbs.domain.Vote@2f59ecf, com.nobblecrafts.learn.redis.dbs.domain.Vote@d471ddb]


2022-08-12 00:37:00 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022) foi iniciada
2022-08-12 00:37:01 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:36:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:35:47 BRT 2022, end=Fri Aug 12 00:36:07 BRT 2022)]



2022-08-12 00:37:01 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@7c5ae5c3



2022-08-12 00:37:01 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@470a2845



2022-08-12 00:37:01 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@6a7eef27 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@1ab6a093, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6d95b51d testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@292b08d6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@45752059, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3fc2959f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@6743e411, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@40005471, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@10e41621], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5c519da4]; rollback [true]
2022-08-12 00:37:01 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Fri Aug 12 00:37:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:37:01 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022)


2022-08-12 00:37:01 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022)


2022-08-12 00:37:01 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022)]


2022-08-12 00:37:01 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022)]
2022-08-12 00:37:01 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@6a7eef27 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@1ab6a093, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6d95b51d testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@292b08d6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@45752059, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3fc2959f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@6743e411, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@40005471, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@10e41621], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-12 00:37:01 [main] INFO  c.n.l.r.d.unit.AssociateServiceTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@186149f9



2022-08-12 00:37:01 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-12 00:37:01 [main] INFO  c.n.l.r.d.unit.AssociateServiceTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@2f96e49f



2022-08-12 00:37:01 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-12 00:37:01 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - Trying to publish AgendaDTO(id=1, start=Fri Aug 12 00:37:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:37:01 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - ANALYTICS-PUBLISHER: message sent
2022-08-12 00:37:01 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - 
exchangeName: test.exchange
routingKey: test.key
message: AgendaDTO(id=1, start=Fri Aug 12 00:37:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:37:01 [main] INFO  c.n.l.r.dbs.unit.AgendaPublisherTest - event.getValue() -> AgendaDTO(id=1, start=Fri Aug 12 00:37:01 BRT 2022, end=Fri Aug 12 00:37:21 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:37:01 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-12 00:37:02 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-12 00:37:02 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-12 00:37:02 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:37:02 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-12 00:37:02 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-12 00:37:54 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-12 00:37:54 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:37:55 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-12 00:37:55 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - The following profiles are active: test
2022-08-12 00:37:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:37:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:37:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2022-08-12 00:37:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:37:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-12 00:37:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:37:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:37:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 JPA repository interfaces.
2022-08-12 00:37:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:37:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:37:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 58 ms. Found 2 Redis repository interfaces.
2022-08-12 00:37:56 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-12 00:37:56 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:37:56 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-12 00:37:56 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:37:56 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-12 00:37:56 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-12 00:37:56 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-12 00:37:56 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 974 ms
2022-08-12 00:37:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-12 00:37:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-12 00:37:56 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-12 00:37:56 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-12 00:37:56 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-12 00:37:56 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-12 00:37:57 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-12 00:37:57 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:37:57 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-12 00:37:57 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-12 00:37:58 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-12 00:37:58 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-12 00:37:58 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:37:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 41881 (http) with context path ''
2022-08-12 00:37:58 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=41881, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:41881/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-12 00:37:58 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-12 00:37:58 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#1dd4c691:0/SimpleConnection@4f86cd50 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 41872]
2022-08-12 00:37:58 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - Started RedisAgendaRepositoryTest in 3.872 seconds (JVM running for 4.645)
2022-08-12 00:37:58 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@3b220bcb testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@5827af16, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2b95e48b testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58a9760d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4961f6af, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@e4487af, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4e3958e7, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3098cf3b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6572421], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@517d68b8]; rollback [true]
2022-08-12 00:37:58 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:37:58 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)


2022-08-12 00:37:58 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)


2022-08-12 00:37:58 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]


2022-08-12 00:37:58 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]
2022-08-12 00:37:58 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@3b220bcb testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@5827af16, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@2b95e48b testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@58a9760d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4961f6af, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@e4487af, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4e3958e7, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3098cf3b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6572421], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-12 00:37:58 [main] INFO  c.n.l.r.d.unit.AssociateServiceTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@457512b



2022-08-12 00:37:58 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-12 00:37:58 [main] INFO  c.n.l.r.d.unit.AssociateServiceTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@2c50f1ab



2022-08-12 00:37:58 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-12 00:37:59 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - Trying to publish AgendaDTO(id=1, start=Fri Aug 12 00:37:59 BRT 2022, end=Fri Aug 12 00:38:19 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:37:59 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - ANALYTICS-PUBLISHER: message sent
2022-08-12 00:37:59 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - 
exchangeName: test.exchange
routingKey: test.key
message: AgendaDTO(id=1, start=Fri Aug 12 00:37:59 BRT 2022, end=Fri Aug 12 00:38:19 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:37:59 [main] INFO  c.n.l.r.dbs.unit.AgendaPublisherTest - event.getValue() -> AgendaDTO(id=1, start=Fri Aug 12 00:37:59 BRT 2022, end=Fri Aug 12 00:38:19 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:37:59 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-12 00:37:59 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-12 00:37:59 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-12 00:37:59 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:37:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-12 00:37:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-12 00:40:15 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-12 00:40:15 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:40:16 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-12 00:40:16 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - The following profiles are active: test
2022-08-12 00:40:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:40:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:40:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-12 00:40:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:40:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-12 00:40:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:40:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 00:40:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 JPA repository interfaces.
2022-08-12 00:40:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 00:40:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 00:40:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 2 Redis repository interfaces.
2022-08-12 00:40:16 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-12 00:40:17 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 00:40:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-12 00:40:17 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:40:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-12 00:40:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-12 00:40:17 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-12 00:40:17 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 967 ms
2022-08-12 00:40:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-12 00:40:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-12 00:40:17 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-12 00:40:17 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-12 00:40:17 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-12 00:40:17 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-12 00:40:18 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-12 00:40:18 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:40:18 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-12 00:40:18 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-12 00:40:19 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-12 00:40:19 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-12 00:40:19 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-12 00:40:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 34937 (http) with context path ''
2022-08-12 00:40:19 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=34937, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:34937/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-12 00:40:19 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-12 00:40:19 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#63be4548:0/SimpleConnection@6272936b [delegate=amqp://guest@127.0.0.1:5672/, localPort= 41980]
2022-08-12 00:40:19 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - Started AssociateControllerTest in 3.881 seconds (JVM running for 4.596)
2022-08-12 00:40:19 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:40:20 BRT 2022, end=Fri Aug 12 00:40:40 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:40:19 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:40:20 BRT 2022, end=Fri Aug 12 00:40:40 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:40:19 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:39:20 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:39:20 BRT 2022, end=Fri Aug 12 00:40:40 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:40:19 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:20 BRT 2022, end=Fri Aug 12 00:40:40 BRT 2022)


2022-08-12 00:40:19 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Vote is: com.nobblecrafts.learn.redis.dbs.domain.Vote@5269aa68


2022-08-12 00:40:19 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:20 BRT 2022, end=Fri Aug 12 00:40:40 BRT 2022) foi iniciada
2022-08-12 00:40:20 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-12 00:40:20 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2022-08-12 00:40:20 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2022-08-12 00:40:20 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:20 BRT 2022, end=Fri Aug 12 00:40:40 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:20 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 
Response -> 200 OK
2022-08-12 00:40:20 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 00:40:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:40:20 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 00:40:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 00:40:20 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 00:39:21 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:40:20 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022)


2022-08-12 00:40:20 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Votes are: [com.nobblecrafts.learn.redis.dbs.domain.Vote@461f295c, com.nobblecrafts.learn.redis.dbs.domain.Vote@59be715a, com.nobblecrafts.learn.redis.dbs.domain.Vote@17f8c75e, com.nobblecrafts.learn.redis.dbs.domain.Vote@7b3b763d, com.nobblecrafts.learn.redis.dbs.domain.Vote@25a41143, com.nobblecrafts.learn.redis.dbs.domain.Vote@2d7bfb13, com.nobblecrafts.learn.redis.dbs.domain.Vote@474f69d, com.nobblecrafts.learn.redis.dbs.domain.Vote@e182453, com.nobblecrafts.learn.redis.dbs.domain.Vote@2cef4321, com.nobblecrafts.learn.redis.dbs.domain.Vote@358b70c4, com.nobblecrafts.learn.redis.dbs.domain.Vote@7ae736a8, com.nobblecrafts.learn.redis.dbs.domain.Vote@50e0541, com.nobblecrafts.learn.redis.dbs.domain.Vote@6a17ab87, com.nobblecrafts.learn.redis.dbs.domain.Vote@5f0bcadb, com.nobblecrafts.learn.redis.dbs.domain.Vote@6654e105, com.nobblecrafts.learn.redis.dbs.domain.Vote@29c471f6, com.nobblecrafts.learn.redis.dbs.domain.Vote@34ceefb5, com.nobblecrafts.learn.redis.dbs.domain.Vote@6859f102, com.nobblecrafts.learn.redis.dbs.domain.Vote@d471ddb]


2022-08-12 00:40:20 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022) foi iniciada
2022-08-12 00:40:22 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:39:21 BRT 2022, end=Fri Aug 12 00:40:41 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:37:58 BRT 2022, end=Fri Aug 12 00:38:18 BRT 2022)]



2022-08-12 00:40:22 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@589c648 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@21e72fb2, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@219a9b16 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@40a4337a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2d1ef81a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6743e411, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@9d5509a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@24269709, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6580cfdd], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1b87f7cd]; rollback [true]
2022-08-12 00:40:22 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 00:40:22 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)


2022-08-12 00:40:22 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)


2022-08-12 00:40:22 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]


2022-08-12 00:40:22 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]
2022-08-12 00:40:22 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@589c648 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@21e72fb2, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@219a9b16 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@40a4337a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2d1ef81a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6743e411, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@9d5509a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@24269709, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@6580cfdd], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-12 00:40:22 [main] INFO  c.n.l.r.d.u.AssociateServiceUnitTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@57064d38



2022-08-12 00:40:22 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-12 00:40:22 [main] INFO  c.n.l.r.d.u.AssociateServiceUnitTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@b6db92b



2022-08-12 00:40:22 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-12 00:40:22 [main] INFO  c.n.l.r.d.u.AssociateControllerUnitTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@62a30701



2022-08-12 00:40:22 [main] INFO  c.n.l.r.d.u.AssociateControllerUnitTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@7469d13a



2022-08-12 00:40:22 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - Trying to publish AgendaDTO(id=1, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:40:22 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - ANALYTICS-PUBLISHER: message sent
2022-08-12 00:40:22 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - 
exchangeName: test.exchange
routingKey: test.key
message: AgendaDTO(id=1, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:40:22 [main] INFO  c.n.l.r.d.u.AgendaPublisherUnitTest - event.getValue() -> AgendaDTO(id=1, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 00:40:22 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-12 00:40:23 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-12 00:40:23 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-12 00:40:23 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 00:40:23 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-12 00:40:23 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-12 01:23:09 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-12 01:23:09 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 01:23:10 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults,test/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-12 01:23:10 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - The following profiles are active: test
2022-08-12 01:23:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 01:23:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 01:23:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-12 01:23:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 01:23:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-12 01:23:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 01:23:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-12 01:23:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2022-08-12 01:23:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-12 01:23:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-12 01:23:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 2 Redis repository interfaces.
2022-08-12 01:23:10 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-12 01:23:11 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-12 01:23:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-12 01:23:11 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-12 01:23:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-12 01:23:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-12 01:23:11 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-12 01:23:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1001 ms
2022-08-12 01:23:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-12 01:23:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-12 01:23:11 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-12 01:23:11 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-12 01:23:11 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-12 01:23:12 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-12 01:23:12 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-12 01:23:12 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 01:23:12 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-12 01:23:12 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-12 01:23:13 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-12 01:23:13 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-12 01:23:13 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-12 01:23:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 41843 (http) with context path ''
2022-08-12 01:23:13 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=41843, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:41843/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-12 01:23:13 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-12 01:23:13 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#eb23b9c:0/SimpleConnection@740ef827 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 44260]
2022-08-12 01:23:13 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - Started AssociateControllerTest in 4.139 seconds (JVM running for 4.93)
2022-08-12 01:23:13 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 01:23:14 BRT 2022, end=Fri Aug 12 01:23:34 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 01:23:13 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 01:23:14 BRT 2022, end=Fri Aug 12 01:23:34 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 01:23:13 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 01:22:14 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 01:22:14 BRT 2022, end=Fri Aug 12 01:23:34 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 01:23:13 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:14 BRT 2022, end=Fri Aug 12 01:23:34 BRT 2022)


2022-08-12 01:23:13 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Vote is: com.nobblecrafts.learn.redis.dbs.domain.Vote@334d96af


2022-08-12 01:23:14 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:14 BRT 2022, end=Fri Aug 12 01:23:34 BRT 2022) foi iniciada
2022-08-12 01:23:14 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-12 01:23:14 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2022-08-12 01:23:14 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2022-08-12 01:23:15 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:14 BRT 2022, end=Fri Aug 12 01:23:34 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:15 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 
Response -> 200 OK
2022-08-12 01:23:15 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Fri Aug 12 01:23:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 01:23:15 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Fri Aug 12 01:23:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-12 01:23:15 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Fri Aug 12 01:22:16 BRT 2022
AgendaDTO(id=1, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 01:23:15 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022)


2022-08-12 01:23:15 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Votes are: [com.nobblecrafts.learn.redis.dbs.domain.Vote@2df019b8, com.nobblecrafts.learn.redis.dbs.domain.Vote@1c04dae9, com.nobblecrafts.learn.redis.dbs.domain.Vote@319428ba, com.nobblecrafts.learn.redis.dbs.domain.Vote@7c7335dc, com.nobblecrafts.learn.redis.dbs.domain.Vote@4623c0d3, com.nobblecrafts.learn.redis.dbs.domain.Vote@6f36c42, com.nobblecrafts.learn.redis.dbs.domain.Vote@223ed38f, com.nobblecrafts.learn.redis.dbs.domain.Vote@237e61ac, com.nobblecrafts.learn.redis.dbs.domain.Vote@26753687, com.nobblecrafts.learn.redis.dbs.domain.Vote@765650e4, com.nobblecrafts.learn.redis.dbs.domain.Vote@3095e9c6, com.nobblecrafts.learn.redis.dbs.domain.Vote@35c55050, com.nobblecrafts.learn.redis.dbs.domain.Vote@307cf289, com.nobblecrafts.learn.redis.dbs.domain.Vote@2a0154f7, com.nobblecrafts.learn.redis.dbs.domain.Vote@66ab765c, com.nobblecrafts.learn.redis.dbs.domain.Vote@50fd4246, com.nobblecrafts.learn.redis.dbs.domain.Vote@19abe8f7, com.nobblecrafts.learn.redis.dbs.domain.Vote@8802edd, com.nobblecrafts.learn.redis.dbs.domain.Vote@4872d04d]


2022-08-12 01:23:15 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022) foi iniciada
2022-08-12 01:23:16 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:22:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 00:40:22 BRT 2022, end=Fri Aug 12 00:40:42 BRT 2022)]



2022-08-12 01:23:16 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@1d9c18b9 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@447cdbaa, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5e774546 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@139982de, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7dcf94f8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7c6908d7, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@40005471, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7770f470, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@4ac3c60d], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5c519da4]; rollback [true]
2022-08-12 01:23:16 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Fri Aug 12 01:23:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-12 01:23:16 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:23:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022)


2022-08-12 01:23:16 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:23:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022)


2022-08-12 01:23:16 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:23:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022)]


2022-08-12 01:23:16 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Fri Aug 12 01:23:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022)]
2022-08-12 01:23:16 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@1d9c18b9 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@447cdbaa, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@5e774546 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@139982de, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7dcf94f8, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7c6908d7, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@40005471, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7770f470, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@4ac3c60d], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-12 01:23:16 [main] INFO  c.n.l.r.d.u.AssociateServiceUnitTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@67e42fd6



2022-08-12 01:23:16 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-12 01:23:16 [main] INFO  c.n.l.r.d.u.AssociateServiceUnitTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@586be63c



2022-08-12 01:23:16 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-12 01:23:16 [main] INFO  c.n.l.r.d.u.AssociateControllerUnitTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@7ee46aaf



2022-08-12 01:23:16 [main] INFO  c.n.l.r.d.u.AssociateControllerUnitTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@1989a143



2022-08-12 01:23:16 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - Trying to publish AgendaDTO(id=1, start=Fri Aug 12 01:23:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 01:23:16 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - ANALYTICS-PUBLISHER: message sent
2022-08-12 01:23:16 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - 
exchangeName: test.exchange
routingKey: test.key
message: AgendaDTO(id=1, start=Fri Aug 12 01:23:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 01:23:16 [main] INFO  c.n.l.r.d.u.AgendaPublisherUnitTest - event.getValue() -> AgendaDTO(id=1, start=Fri Aug 12 01:23:16 BRT 2022, end=Fri Aug 12 01:23:36 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-12 01:23:16 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-12 01:23:17 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-12 01:23:17 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-12 01:23:17 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-12 01:23:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-12 01:23:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
