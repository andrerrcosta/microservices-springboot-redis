2022-08-11 02:21:29 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-11 02:21:29 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 02:21:30 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-11 02:21:30 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - No active profile set, falling back to default profiles: default
2022-08-11 02:21:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:21:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 02:21:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-11 02:21:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:21:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-11 02:21:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 02:21:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 02:21:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2022-08-11 02:21:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:21:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 02:21:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 70 ms. Found 2 Redis repository interfaces.
2022-08-11 02:21:30 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-11 02:21:31 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 02:21:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-11 02:21:31 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-11 02:21:31 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-11 02:21:31 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-11 02:21:31 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-11 02:21:31 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1030 ms
2022-08-11 02:21:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-11 02:21:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-11 02:21:31 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-11 02:21:31 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-11 02:21:31 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-11 02:21:32 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-11 02:21:32 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-11 02:21:32 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 02:21:32 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-11 02:21:32 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-11 02:21:33 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-11 02:21:33 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-11 02:21:33 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-11 02:21:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 38557 (http) with context path ''
2022-08-11 02:21:33 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=38557, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:38557/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-11 02:21:33 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-11 02:21:33 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#7f72855d:0/SimpleConnection@730c9287 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 33500]
2022-08-11 02:21:33 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - Started RedisAgendaRepositoryTest in 4.404 seconds (JVM running for 5.071)
2022-08-11 02:21:34 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Thu Aug 11 02:21:34 BRT 2022, end=Thu Aug 11 02:21:54 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-11 02:21:34 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=-4771942222665384310, associates=null, votes=null, start=null, end=null)]


2022-08-11 02:21:34 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional.empty
2022-08-11 02:21:34 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-11 02:21:34 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-11 02:21:34 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-11 02:21:34 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 02:21:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-11 02:21:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-11 02:22:27 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-11 02:22:27 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 02:22:27 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-11 02:22:27 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - No active profile set, falling back to default profiles: default
2022-08-11 02:22:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:22:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 02:22:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-11 02:22:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:22:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-11 02:22:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 02:22:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 02:22:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 JPA repository interfaces.
2022-08-11 02:22:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:22:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 02:22:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 2 Redis repository interfaces.
2022-08-11 02:22:28 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-11 02:22:28 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 02:22:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-11 02:22:28 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-11 02:22:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-11 02:22:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-11 02:22:28 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-11 02:22:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1044 ms
2022-08-11 02:22:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-11 02:22:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-11 02:22:29 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-11 02:22:29 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-11 02:22:29 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-11 02:22:29 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-11 02:22:29 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-11 02:22:29 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 02:22:30 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-11 02:22:30 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-11 02:22:30 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-11 02:22:30 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-11 02:22:30 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-11 02:22:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 37903 (http) with context path ''
2022-08-11 02:22:30 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=37903, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:37903/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-11 02:22:31 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-11 02:22:31 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#36def543:0/SimpleConnection@5118c7fb [delegate=amqp://guest@127.0.0.1:5672/, localPort= 33708]
2022-08-11 02:22:31 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - Started RedisAgendaRepositoryTest in 4.423 seconds (JVM running for 5.081)
2022-08-11 02:22:31 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@66c61024 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@43f82e78, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@61fe30 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3b6ddd1d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1da2cb77, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@306e95ec, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@43dac38f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@550dbc7a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1324409e], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@2f95ce11]; rollback [true]
2022-08-11 02:22:31 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Thu Aug 11 02:22:31 BRT 2022, end=Thu Aug 11 02:22:51 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-11 02:22:31 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=8679453816935420472, associates=null, votes=null, start=null, end=null)]


2022-08-11 02:22:31 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional.empty
2022-08-11 02:22:32 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@66c61024 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@43f82e78, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = java.util.NoSuchElementException: No value present, mergedContextConfiguration = [WebMergedContextConfiguration@61fe30 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3b6ddd1d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1da2cb77, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@306e95ec, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@43dac38f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@550dbc7a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1324409e], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-11 02:22:32 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-11 02:22:32 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-11 02:22:32 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-11 02:22:32 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 02:22:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-11 02:22:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-11 02:24:45 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-11 02:24:45 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 02:24:46 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-11 02:24:46 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - No active profile set, falling back to default profiles: default
2022-08-11 02:24:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:24:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 02:24:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-11 02:24:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:24:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-11 02:24:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 02:24:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 02:24:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 JPA repository interfaces.
2022-08-11 02:24:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:24:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 02:24:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 63 ms. Found 2 Redis repository interfaces.
2022-08-11 02:24:46 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-11 02:24:46 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 02:24:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-11 02:24:47 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-11 02:24:47 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-11 02:24:47 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-11 02:24:47 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-11 02:24:47 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1047 ms
2022-08-11 02:24:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-11 02:24:47 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-11 02:24:47 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-11 02:24:47 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-11 02:24:47 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-11 02:24:47 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-11 02:24:48 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-11 02:24:48 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 02:24:48 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-11 02:24:48 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-11 02:24:49 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-11 02:24:49 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-11 02:24:49 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-11 02:24:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 40559 (http) with context path ''
2022-08-11 02:24:49 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=40559, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:40559/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-11 02:24:49 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-11 02:24:49 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#4349389d:0/SimpleConnection@14f05ca0 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 34270]
2022-08-11 02:24:49 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - Started RedisAgendaRepositoryTest in 4.283 seconds (JVM running for 4.932)
2022-08-11 02:24:49 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@66c61024 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@43f82e78, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@61fe30 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3b6ddd1d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1da2cb77, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@306e95ec, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@43dac38f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@550dbc7a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1324409e], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@13a8cb4e]; rollback [true]
2022-08-11 02:24:49 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Thu Aug 11 02:24:49 BRT 2022, end=Thu Aug 11 02:25:09 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-11 02:24:49 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=1672601902094725070, associates=null, votes=null, start=null, end=null)]


2022-08-11 02:24:49 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional.empty
2022-08-11 02:24:49 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@66c61024 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@43f82e78, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = java.util.NoSuchElementException: No value present, mergedContextConfiguration = [WebMergedContextConfiguration@61fe30 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3b6ddd1d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1da2cb77, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@306e95ec, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@43dac38f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@550dbc7a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1324409e], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-11 02:24:49 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-11 02:24:50 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-11 02:24:50 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-11 02:24:50 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 02:24:50 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-11 02:24:50 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-11 02:25:58 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-11 02:25:58 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 02:25:59 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-11 02:25:59 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - No active profile set, falling back to default profiles: default
2022-08-11 02:25:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:25:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 02:25:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2022-08-11 02:25:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:25:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-11 02:25:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 02:25:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 02:25:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2022-08-11 02:25:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:25:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 02:25:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 63 ms. Found 2 Redis repository interfaces.
2022-08-11 02:25:59 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-11 02:26:00 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 02:26:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-11 02:26:00 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-11 02:26:00 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-11 02:26:00 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-11 02:26:00 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-11 02:26:00 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1103 ms
2022-08-11 02:26:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-11 02:26:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-11 02:26:00 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-11 02:26:00 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-11 02:26:00 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-11 02:26:00 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-11 02:26:01 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-11 02:26:01 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 02:26:01 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-11 02:26:01 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-11 02:26:02 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-11 02:26:02 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-11 02:26:02 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-11 02:26:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 44697 (http) with context path ''
2022-08-11 02:26:02 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=44697, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:44697/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-11 02:26:02 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-11 02:26:02 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#64a9fca7:0/SimpleConnection@2f053ff3 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 34522]
2022-08-11 02:26:02 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - Started RedisAgendaRepositoryTest in 4.309 seconds (JVM running for 4.924)
2022-08-11 02:26:02 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@66c61024 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@43f82e78, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@61fe30 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3b6ddd1d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1da2cb77, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@306e95ec, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@43dac38f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@550dbc7a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1324409e], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@41bd8ec9]; rollback [true]
2022-08-11 02:26:03 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Thu Aug 11 02:26:03 BRT 2022, end=Thu Aug 11 02:26:23 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-11 02:26:03 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=1525227389654810379, associates=null, votes=null, start=null, end=null)


2022-08-11 02:26:03 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=1525227389654810379, associates=null, votes=null, start=null, end=null)]


2022-08-11 02:26:03 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional.empty
2022-08-11 02:26:03 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@66c61024 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@43f82e78, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = java.util.NoSuchElementException: No value present, mergedContextConfiguration = [WebMergedContextConfiguration@61fe30 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3b6ddd1d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1da2cb77, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@306e95ec, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@43dac38f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@550dbc7a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1324409e], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-11 02:26:03 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-11 02:26:03 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-11 02:26:03 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-11 02:26:03 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 02:26:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-11 02:26:03 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-11 02:30:17 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-11 02:30:17 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 02:30:17 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-11 02:30:17 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - No active profile set, falling back to default profiles: default
2022-08-11 02:30:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:30:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 02:30:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-11 02:30:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:30:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-11 02:30:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 02:30:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 02:30:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 JPA repository interfaces.
2022-08-11 02:30:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:30:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 02:30:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 62 ms. Found 2 Redis repository interfaces.
2022-08-11 02:30:18 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-11 02:30:18 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 02:30:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-11 02:30:18 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-11 02:30:18 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-11 02:30:18 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-11 02:30:18 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-11 02:30:18 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1109 ms
2022-08-11 02:30:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-11 02:30:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-11 02:30:19 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-11 02:30:19 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-11 02:30:19 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-11 02:30:19 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-11 02:30:19 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-11 02:30:19 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 02:30:20 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-11 02:30:20 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-11 02:30:20 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-11 02:30:20 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-11 02:30:20 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-11 02:30:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 35437 (http) with context path ''
2022-08-11 02:30:20 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=35437, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:35437/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-11 02:30:20 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-11 02:30:21 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#52288c65:0/SimpleConnection@4a6dd88e [delegate=amqp://guest@127.0.0.1:5672/, localPort= 35252]
2022-08-11 02:30:21 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - Started RedisAgendaRepositoryTest in 4.28 seconds (JVM running for 4.92)
2022-08-11 02:30:21 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@7efaad5a testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@7241a47d, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@291a7e3c testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@bd4dc25, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3bf9ce3e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3f6b0be5, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4738a206, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@54bff557, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@28c4711c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@68e8bbab]; rollback [true]
2022-08-11 02:30:21 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Thu Aug 11 02:30:21 BRT 2022, end=Thu Aug 11 02:30:41 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-11 02:30:21 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=5225291440678120331, associates=null, votes=null, start=null, end=null)


2022-08-11 02:30:21 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=5225291440678120331, associates=null, votes=null, start=null, end=null)]


2022-08-11 02:30:21 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=5225291440678120331, associates=null, votes=null, start=null, end=null)]
2022-08-11 02:30:21 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@7efaad5a testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@7241a47d, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = java.lang.ClassCastException: class com.nobblecrafts.learn.redis.dbs.domain.RedisAgenda cannot be cast to class com.nobblecrafts.learn.redis.dbs.domain.AgendaDTO (com.nobblecrafts.learn.redis.dbs.domain.RedisAgenda and com.nobblecrafts.learn.redis.dbs.domain.AgendaDTO are in unnamed module of loader 'app'), mergedContextConfiguration = [WebMergedContextConfiguration@291a7e3c testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@bd4dc25, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3bf9ce3e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@3f6b0be5, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@4738a206, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@54bff557, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@28c4711c], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-11 02:30:21 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-11 02:30:22 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-11 02:30:22 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-11 02:30:22 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 02:30:22 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-11 02:30:22 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-11 02:31:43 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-11 02:31:44 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 02:31:44 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-11 02:31:44 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - No active profile set, falling back to default profiles: default
2022-08-11 02:31:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:31:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 02:31:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-11 02:31:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:31:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-11 02:31:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 02:31:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 02:31:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 JPA repository interfaces.
2022-08-11 02:31:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:31:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 02:31:45 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 58 ms. Found 2 Redis repository interfaces.
2022-08-11 02:31:45 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-11 02:31:45 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 02:31:45 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-11 02:31:45 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-11 02:31:45 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-11 02:31:45 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-11 02:31:45 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-11 02:31:45 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1021 ms
2022-08-11 02:31:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-11 02:31:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-11 02:31:45 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-11 02:31:45 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-11 02:31:46 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-11 02:31:46 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-11 02:31:46 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-11 02:31:46 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 02:31:46 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-11 02:31:46 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-11 02:31:47 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-11 02:31:47 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-11 02:31:47 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-11 02:31:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 38295 (http) with context path ''
2022-08-11 02:31:47 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=38295, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:38295/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-11 02:31:47 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-11 02:31:47 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#4e797a39:0/SimpleConnection@14f05ca0 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 35526]
2022-08-11 02:31:47 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - Started RedisAgendaRepositoryTest in 4.334 seconds (JVM running for 4.96)
2022-08-11 02:31:47 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@7a1a14a4 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@530712d, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@265adfad testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a18644, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6cd28fa7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1b2abca6, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@593aaf41, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3cebbb30, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1324409e], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@64bb6ba7]; rollback [true]
2022-08-11 02:31:48 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Thu Aug 11 02:31:48 BRT 2022, end=Thu Aug 11 02:32:08 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-11 02:31:48 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=null, associates=null, votes=null, start=null, end=null)


2022-08-11 02:31:48 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=-8959806996086265721, associates=null, votes=null, start=null, end=null)


2022-08-11 02:31:48 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=-8959806996086265721, associates=null, votes=null, start=null, end=null)]


2022-08-11 02:31:48 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=-8959806996086265721, associates=null, votes=null, start=null, end=null)]
2022-08-11 02:31:48 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@7a1a14a4 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@530712d, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = java.lang.ClassCastException: class com.nobblecrafts.learn.redis.dbs.domain.RedisAgenda cannot be cast to class com.nobblecrafts.learn.redis.dbs.domain.AgendaDTO (com.nobblecrafts.learn.redis.dbs.domain.RedisAgenda and com.nobblecrafts.learn.redis.dbs.domain.AgendaDTO are in unnamed module of loader 'app'), mergedContextConfiguration = [WebMergedContextConfiguration@265adfad testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a18644, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6cd28fa7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1b2abca6, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@593aaf41, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3cebbb30, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1324409e], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-11 02:31:48 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-11 02:31:48 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-11 02:31:48 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-11 02:31:48 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 02:31:48 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-11 02:31:49 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-11 02:32:34 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-11 02:32:34 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 02:32:35 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-11 02:32:35 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - No active profile set, falling back to default profiles: default
2022-08-11 02:32:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:32:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 02:32:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-11 02:32:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:32:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-11 02:32:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 02:32:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 02:32:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 JPA repository interfaces.
2022-08-11 02:32:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 02:32:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 02:32:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 79 ms. Found 2 Redis repository interfaces.
2022-08-11 02:32:35 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-11 02:32:35 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 02:32:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-11 02:32:36 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-11 02:32:36 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-11 02:32:36 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-11 02:32:36 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-11 02:32:36 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1086 ms
2022-08-11 02:32:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-11 02:32:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-11 02:32:36 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-11 02:32:36 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-11 02:32:36 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-11 02:32:36 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-11 02:32:37 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-11 02:32:37 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 02:32:37 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-11 02:32:37 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-11 02:32:38 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-11 02:32:38 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-11 02:32:38 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-11 02:32:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 40765 (http) with context path ''
2022-08-11 02:32:38 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=40765, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:40765/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-11 02:32:38 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-11 02:32:38 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#2bc52b08:0/SimpleConnection@628fa8ea [delegate=amqp://guest@127.0.0.1:5672/, localPort= 35720]
2022-08-11 02:32:38 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - Started RedisAgendaRepositoryTest in 4.302 seconds (JVM running for 4.931)
2022-08-11 02:32:38 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@7a1a14a4 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@50468873, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@265adfad testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a18644, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6cd28fa7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1b2abca6, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@593aaf41, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3cebbb30, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1324409e], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@a89dec0]; rollback [true]
2022-08-11 02:32:38 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Thu Aug 11 02:32:38 BRT 2022, end=Thu Aug 11 02:32:58 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-11 02:32:38 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=null, associates=null, votes=null, start=null, end=null)


2022-08-11 02:32:39 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=-6372559286810130725, associates=null, votes=null, start=null, end=null)


2022-08-11 02:32:39 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=-6372559286810130725, associates=null, votes=null, start=null, end=null)]


2022-08-11 02:32:39 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=-6372559286810130725, associates=null, votes=null, start=null, end=null)]
2022-08-11 02:32:39 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@7a1a14a4 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@50468873, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = java.lang.ClassCastException: class com.nobblecrafts.learn.redis.dbs.domain.RedisAgenda cannot be cast to class com.nobblecrafts.learn.redis.dbs.domain.AgendaDTO (com.nobblecrafts.learn.redis.dbs.domain.RedisAgenda and com.nobblecrafts.learn.redis.dbs.domain.AgendaDTO are in unnamed module of loader 'app'), mergedContextConfiguration = [WebMergedContextConfiguration@265adfad testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a18644, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6cd28fa7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1b2abca6, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@593aaf41, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3cebbb30, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1324409e], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-11 02:32:39 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-11 02:32:39 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-11 02:32:39 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-11 02:32:39 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 02:32:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-11 02:32:39 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-11 03:02:10 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-11 03:02:10 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 03:02:11 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-11 03:02:11 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - No active profile set, falling back to default profiles: default
2022-08-11 03:02:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:02:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 03:02:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-11 03:02:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:02:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-11 03:02:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 03:02:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 03:02:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2022-08-11 03:02:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:02:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 03:02:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 62 ms. Found 2 Redis repository interfaces.
2022-08-11 03:02:12 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-11 03:02:12 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 03:02:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-11 03:02:12 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-11 03:02:12 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-11 03:02:12 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-11 03:02:12 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-11 03:02:12 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1113 ms
2022-08-11 03:02:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-11 03:02:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-11 03:02:12 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-11 03:02:12 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-11 03:02:13 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-11 03:02:13 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-11 03:02:13 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-11 03:02:13 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 03:02:13 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-11 03:02:13 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-11 03:02:14 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-11 03:02:14 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-11 03:02:14 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-11 03:02:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 37235 (http) with context path ''
2022-08-11 03:02:14 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=37235, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:37235/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-11 03:02:14 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-11 03:02:14 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#64e680c5:0/SimpleConnection@310df168 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 41044]
2022-08-11 03:02:14 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - Started RedisAgendaRepositoryTest in 4.213 seconds (JVM running for 4.866)
2022-08-11 03:02:14 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@7a1a14a4 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@50468873, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@265adfad testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a18644, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6cd28fa7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1b2abca6, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@593aaf41, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3cebbb30, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1324409e], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4a648b35]; rollback [true]
2022-08-11 03:02:15 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Thu Aug 11 03:02:15 BRT 2022, end=Thu Aug 11 03:02:35 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-11 03:02:15 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:02:15 BRT 2022, end=Thu Aug 11 03:02:35 BRT 2022)


2022-08-11 03:02:15 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:02:15 BRT 2022, end=Thu Aug 11 03:02:35 BRT 2022)


2022-08-11 03:02:15 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:02:15 BRT 2022, end=Thu Aug 11 03:02:35 BRT 2022)]


2022-08-11 03:02:15 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:02:15 BRT 2022, end=Thu Aug 11 03:02:35 BRT 2022)]
2022-08-11 03:02:15 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@7a1a14a4 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@50468873, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = java.lang.ClassCastException: class com.nobblecrafts.learn.redis.dbs.domain.RedisAgenda cannot be cast to class com.nobblecrafts.learn.redis.dbs.domain.AgendaDTO (com.nobblecrafts.learn.redis.dbs.domain.RedisAgenda and com.nobblecrafts.learn.redis.dbs.domain.AgendaDTO are in unnamed module of loader 'app'), mergedContextConfiguration = [WebMergedContextConfiguration@265adfad testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a18644, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6cd28fa7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1b2abca6, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@593aaf41, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3cebbb30, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1324409e], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-11 03:02:15 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-11 03:02:15 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-11 03:02:15 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-11 03:02:15 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 03:02:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-11 03:02:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-11 03:04:27 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-11 03:04:27 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 03:04:28 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-11 03:04:28 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - No active profile set, falling back to default profiles: default
2022-08-11 03:04:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:04:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 03:04:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-11 03:04:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:04:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-11 03:04:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 03:04:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 03:04:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2022-08-11 03:04:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:04:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 03:04:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 2 Redis repository interfaces.
2022-08-11 03:04:29 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-11 03:04:29 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 03:04:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-11 03:04:29 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-11 03:04:29 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-11 03:04:29 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-11 03:04:29 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-11 03:04:29 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1061 ms
2022-08-11 03:04:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-11 03:04:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-11 03:04:29 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-11 03:04:29 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-11 03:04:29 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-11 03:04:30 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-11 03:04:30 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-11 03:04:30 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 03:04:30 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-11 03:04:30 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-11 03:04:31 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-11 03:04:31 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-11 03:04:31 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-11 03:04:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 46605 (http) with context path ''
2022-08-11 03:04:31 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=46605, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:46605/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-11 03:04:31 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-11 03:04:31 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#31f4fdc5:0/SimpleConnection@7e32442d [delegate=amqp://guest@127.0.0.1:5672/, localPort= 41404]
2022-08-11 03:04:31 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - Started RedisAgendaRepositoryTest in 4.186 seconds (JVM running for 4.849)
2022-08-11 03:04:31 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@7a1a14a4 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@50468873, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@265adfad testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a18644, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6cd28fa7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1b2abca6, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@593aaf41, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3cebbb30, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1324409e], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@e38b953]; rollback [true]
2022-08-11 03:04:31 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Thu Aug 11 03:04:31 BRT 2022, end=Thu Aug 11 03:04:51 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-11 03:04:31 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:04:31 BRT 2022, end=Thu Aug 11 03:04:51 BRT 2022)


2022-08-11 03:04:32 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:04:31 BRT 2022, end=Thu Aug 11 03:04:51 BRT 2022)


2022-08-11 03:04:32 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:04:31 BRT 2022, end=Thu Aug 11 03:04:51 BRT 2022)]


2022-08-11 03:04:32 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:04:31 BRT 2022, end=Thu Aug 11 03:04:51 BRT 2022)]
2022-08-11 03:04:32 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@7a1a14a4 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@50468873, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = org.opentest4j.AssertionFailedError: 
expected: "RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:04:31 BRT 2022, end=Thu Aug 11 03:04:51 BRT 2022) (RedisAgenda@3625110e)"
 but was: "RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:04:31 BRT 2022, end=Thu Aug 11 03:04:51 BRT 2022) (RedisAgenda@6e6d4a64)", mergedContextConfiguration = [WebMergedContextConfiguration@265adfad testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a18644, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6cd28fa7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1b2abca6, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@593aaf41, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3cebbb30, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1324409e], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-11 03:04:32 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-11 03:04:32 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-11 03:04:32 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-11 03:04:32 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 03:04:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-11 03:04:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-11 03:07:16 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-11 03:07:16 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 03:07:17 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-11 03:07:17 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - No active profile set, falling back to default profiles: default
2022-08-11 03:07:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:07:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 03:07:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-11 03:07:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:07:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-11 03:07:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 03:07:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 03:07:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 JPA repository interfaces.
2022-08-11 03:07:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:07:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 03:07:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 64 ms. Found 2 Redis repository interfaces.
2022-08-11 03:07:17 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-11 03:07:17 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 03:07:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-11 03:07:17 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-11 03:07:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-11 03:07:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-11 03:07:18 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-11 03:07:18 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1022 ms
2022-08-11 03:07:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-11 03:07:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-11 03:07:18 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-11 03:07:18 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-11 03:07:18 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-11 03:07:18 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-11 03:07:18 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-11 03:07:18 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 03:07:19 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-11 03:07:19 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-11 03:07:20 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-11 03:07:20 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-11 03:07:20 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-11 03:07:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 32957 (http) with context path ''
2022-08-11 03:07:20 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=32957, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:32957/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-11 03:07:20 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-11 03:07:20 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#4e797a39:0/SimpleConnection@1cad8bce [delegate=amqp://guest@127.0.0.1:5672/, localPort= 41830]
2022-08-11 03:07:20 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - Started RedisAgendaRepositoryTest in 4.238 seconds (JVM running for 4.932)
2022-08-11 03:07:20 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@7a1a14a4 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@50468873, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@265adfad testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a18644, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6cd28fa7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1b2abca6, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@593aaf41, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3cebbb30, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1324409e], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@64bb6ba7]; rollback [true]
2022-08-11 03:07:20 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Thu Aug 11 03:07:20 BRT 2022, end=Thu Aug 11 03:07:40 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-11 03:07:20 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:07:20 BRT 2022, end=Thu Aug 11 03:07:40 BRT 2022)


2022-08-11 03:07:20 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:07:20 BRT 2022, end=Thu Aug 11 03:07:40 BRT 2022)


2022-08-11 03:07:20 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:07:20 BRT 2022, end=Thu Aug 11 03:07:40 BRT 2022)]


2022-08-11 03:07:20 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:07:20 BRT 2022, end=Thu Aug 11 03:07:40 BRT 2022)]
2022-08-11 03:07:20 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@7a1a14a4 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@50468873, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@265adfad testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a18644, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6cd28fa7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1b2abca6, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@593aaf41, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3cebbb30, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1324409e], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-11 03:07:20 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-11 03:07:21 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-11 03:07:21 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-11 03:07:21 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 03:07:21 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-11 03:07:21 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-11 03:08:48 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-11 03:08:48 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 03:08:49 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-11 03:08:49 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - No active profile set, falling back to default profiles: default
2022-08-11 03:08:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:08:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 03:08:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-11 03:08:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:08:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-11 03:08:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 03:08:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 03:08:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 JPA repository interfaces.
2022-08-11 03:08:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:08:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 03:08:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 62 ms. Found 2 Redis repository interfaces.
2022-08-11 03:08:50 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-11 03:08:50 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 03:08:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-11 03:08:50 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-11 03:08:50 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-11 03:08:50 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-11 03:08:50 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-11 03:08:50 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1073 ms
2022-08-11 03:08:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-11 03:08:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-11 03:08:50 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-11 03:08:51 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-11 03:08:51 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-11 03:08:51 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-11 03:08:51 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-11 03:08:51 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 03:08:51 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-11 03:08:51 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-11 03:08:52 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-11 03:08:52 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-11 03:08:52 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-11 03:08:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 40203 (http) with context path ''
2022-08-11 03:08:52 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=40203, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:40203/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-11 03:08:52 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-11 03:08:52 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#179f30b7:0/SimpleConnection@de06f28 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 42098]
2022-08-11 03:08:52 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - Started RedisAgendaRepositoryTest in 4.186 seconds (JVM running for 4.852)
2022-08-11 03:08:52 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@1046d517 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@6aa3a905, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3b7d3a38 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@53fdffa1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d0f2471, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7e7be63f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@f5acb9d, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6e0f5f7f, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@687080dc], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@1eff74f2]; rollback [true]
2022-08-11 03:08:53 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Thu Aug 11 03:08:53 BRT 2022, end=Thu Aug 11 03:09:13 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-11 03:08:53 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:08:53 BRT 2022, end=Thu Aug 11 03:09:13 BRT 2022)


2022-08-11 03:08:53 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:08:53 BRT 2022, end=Thu Aug 11 03:09:13 BRT 2022)


2022-08-11 03:08:53 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:08:53 BRT 2022, end=Thu Aug 11 03:09:13 BRT 2022)]


2022-08-11 03:08:53 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:08:53 BRT 2022, end=Thu Aug 11 03:09:13 BRT 2022)]
2022-08-11 03:08:53 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@1046d517 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@6aa3a905, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3b7d3a38 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@53fdffa1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d0f2471, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7e7be63f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@f5acb9d, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6e0f5f7f, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@687080dc], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-11 03:08:53 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@42531e1b



2022-08-11 03:08:53 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@152a41ab



2022-08-11 03:08:53 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - Trying to publish AgendaDTO(id=1, start=Thu Aug 11 03:08:53 BRT 2022, end=Thu Aug 11 03:09:13 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-11 03:08:53 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - ANALYTICS-PUBLISHER: message sent
2022-08-11 03:08:53 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - 
exchangeName: test.exchange
routingKey: test.key
message: AgendaDTO(id=1, start=Thu Aug 11 03:08:53 BRT 2022, end=Thu Aug 11 03:09:13 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-11 03:08:53 [main] INFO  c.n.l.r.dbs.unit.AgendaPublisherTest - event.getValue() -> AgendaDTO(id=1, start=Thu Aug 11 03:08:53 BRT 2022, end=Thu Aug 11 03:09:13 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-11 03:08:53 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.nobblecrafts.learn.redis.dbs.DbsApplicationTests], using SpringBootContextLoader
2022-08-11 03:08:53 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.nobblecrafts.learn.redis.dbs.DbsApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-08-11 03:08:53 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.nobblecrafts.learn.redis.dbs.DbsApplicationTests]: DbsApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-08-11 03:08:53 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.nobblecrafts.learn.redis.dbs.DbsApplication for test class com.nobblecrafts.learn.redis.dbs.DbsApplicationTests
2022-08-11 03:08:53 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2022-08-11 03:08:53 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7c9e149, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bbf750, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4473bbc1, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@433f8efa, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@bb4fc7d, org.springframework.test.context.support.DirtiesContextTestExecutionListener@55eb9b2c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@c9f9fe3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@33e888d4, org.springframework.test.context.event.EventPublishingTestExecutionListener@1f93cdc0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@162807e5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@66b8f244, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1161786f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@101d4a4e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@46dc6087, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@675790ca]
2022-08-11 03:08:53 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 03:08:53 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-11 03:08:53 [main] INFO  c.n.l.redis.dbs.DbsApplicationTests - No active profile set, falling back to default profiles: default
2022-08-11 03:08:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:08:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 03:08:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2022-08-11 03:08:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:08:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-11 03:08:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 03:08:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 03:08:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2022-08-11 03:08:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:08:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 03:08:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 2 Redis repository interfaces.
2022-08-11 03:08:53 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=ed135eef-5982-3306-a856-fcb87c26b326
2022-08-11 03:08:53 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 03:08:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2022-08-11 03:08:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2022-08-11 03:08:53 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-11 03:08:53 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-11 03:08:53 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-11 03:08:53 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 03:08:54 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-11 03:08:54 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-11 03:08:54 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-11 03:08:54 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-11 03:08:54 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-11 03:08:54 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#4d2bac23:0/SimpleConnection@54ba7366 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 42150]
2022-08-11 03:08:54 [main] INFO  c.n.l.redis.dbs.DbsApplicationTests - Started DbsApplicationTests in 1.133 seconds (JVM running for 6.763)
2022-08-11 03:08:54 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-11 03:08:54 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-11 03:08:54 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-11 03:08:54 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 03:08:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-11 03:08:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-11 03:08:54 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-11 03:08:55 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-11 03:08:55 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 03:08:55 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2022-08-11 03:08:55 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2022-08-11 03:10:27 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-11 03:10:27 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 03:10:28 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-11 03:10:28 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - No active profile set, falling back to default profiles: default
2022-08-11 03:10:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:10:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 03:10:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2022-08-11 03:10:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:10:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-11 03:10:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 03:10:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 03:10:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 JPA repository interfaces.
2022-08-11 03:10:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:10:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 03:10:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 60 ms. Found 2 Redis repository interfaces.
2022-08-11 03:10:28 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-11 03:10:28 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 03:10:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-11 03:10:29 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-11 03:10:29 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-11 03:10:29 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-11 03:10:29 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-11 03:10:29 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1105 ms
2022-08-11 03:10:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-11 03:10:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-11 03:10:29 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-11 03:10:29 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-11 03:10:29 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-11 03:10:29 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-11 03:10:29 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-11 03:10:29 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 03:10:30 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-11 03:10:30 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-11 03:10:31 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-11 03:10:31 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-11 03:10:31 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-11 03:10:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 33409 (http) with context path ''
2022-08-11 03:10:31 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=33409, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:33409/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-11 03:10:31 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-11 03:10:31 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#7f6137fb:0/SimpleConnection@64df3f4b [delegate=amqp://guest@127.0.0.1:5672/, localPort= 42436]
2022-08-11 03:10:31 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - Started RedisAgendaRepositoryTest in 4.153 seconds (JVM running for 4.819)
2022-08-11 03:10:31 [main] INFO  o.s.t.c.t.TransactionContext - Began transaction (1) for test context [DefaultTestContext@1046d517 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@6aa3a905, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3b7d3a38 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@53fdffa1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d0f2471, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7e7be63f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@f5acb9d, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6e0f5f7f, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@687080dc], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@240a717d]; rollback [true]
2022-08-11 03:10:31 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AGENDA SUPPLIED AgendaDTO(id=2, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-11 03:10:31 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

AFTER MAP RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)


2022-08-11 03:10:31 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

SAVED AGENDA RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)


2022-08-11 03:10:31 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - 

ALL AGENDAS [RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]


2022-08-11 03:10:31 [main] INFO  c.n.l.r.d.i.RedisAgendaRepositoryTest - RECOVER Optional[RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]
2022-08-11 03:10:31 [main] INFO  o.s.t.c.t.TransactionContext - Rolled back transaction for test: [DefaultTestContext@1046d517 testClass = RedisAgendaRepositoryTest, testInstance = com.nobblecrafts.learn.redis.dbs.integration.RedisAgendaRepositoryTest@6aa3a905, testMethod = saveAgenda@RedisAgendaRepositoryTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@3b7d3a38 testClass = RedisAgendaRepositoryTest, locations = '{}', classes = '{class com.nobblecrafts.learn.redis.dbs.DbsApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@53fdffa1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4d0f2471, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7e7be63f, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@f5acb9d, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@6e0f5f7f, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@687080dc], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2022-08-11 03:10:31 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@4b98900b



2022-08-11 03:10:31 [main] INFO  c.n.l.r.d.u.AssociateControllerTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@2a7c82e



2022-08-11 03:10:31 [main] INFO  c.n.l.r.d.unit.AssociateServiceTest - 


invalidVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@2ac42ce6



2022-08-11 03:10:31 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-11 03:10:31 [main] INFO  c.n.l.r.d.unit.AssociateServiceTest - 


validVote is com.nobblecrafts.learn.redis.dbs.domain.Vote@27d1b432



2022-08-11 03:10:31 [main] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: []



2022-08-11 03:10:31 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - Trying to publish AgendaDTO(id=1, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-11 03:10:31 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - ANALYTICS-PUBLISHER: message sent
2022-08-11 03:10:31 [main] INFO  c.n.l.r.dbs.message.AgendaPublisher - 
exchangeName: test.exchange
routingKey: test.key
message: AgendaDTO(id=1, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-11 03:10:31 [main] INFO  c.n.l.r.dbs.unit.AgendaPublisherTest - event.getValue() -> AgendaDTO(id=1, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes={})
2022-08-11 03:10:31 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.nobblecrafts.learn.redis.dbs.DbsApplicationTests], using SpringBootContextLoader
2022-08-11 03:10:31 [main] INFO  o.s.t.c.s.AbstractContextLoader - Could not detect default resource locations for test class [com.nobblecrafts.learn.redis.dbs.DbsApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
2022-08-11 03:10:31 [main] INFO  o.s.t.c.s.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.nobblecrafts.learn.redis.dbs.DbsApplicationTests]: DbsApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2022-08-11 03:10:31 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.nobblecrafts.learn.redis.dbs.DbsApplication for test class com.nobblecrafts.learn.redis.dbs.DbsApplicationTests
2022-08-11 03:10:31 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
2022-08-11 03:10:31 [main] INFO  o.s.b.t.c.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3ca1a69b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@33dcbbfa, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@57d3c5cd, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5418225f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@65bcc339, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3369a71f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7adde112, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6f422ecc, org.springframework.test.context.event.EventPublishingTestExecutionListener@6c648d16, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@12cb9eda, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@70b38e0, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@79414283, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@31857c80, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7ff61924, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2164f202]
2022-08-11 03:10:32 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 03:10:32 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-11 03:10:32 [main] INFO  c.n.l.redis.dbs.DbsApplicationTests - No active profile set, falling back to default profiles: default
2022-08-11 03:10:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:10:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 03:10:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2022-08-11 03:10:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:10:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-11 03:10:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 03:10:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 03:10:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 JPA repository interfaces.
2022-08-11 03:10:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:10:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 03:10:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 2 Redis repository interfaces.
2022-08-11 03:10:32 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=ed135eef-5982-3306-a856-fcb87c26b326
2022-08-11 03:10:32 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 03:10:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2022-08-11 03:10:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2022-08-11 03:10:32 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-11 03:10:32 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-11 03:10:32 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-11 03:10:32 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 03:10:32 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-11 03:10:32 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-11 03:10:33 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-11 03:10:33 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-11 03:10:33 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-11 03:10:33 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#627ed93a:0/SimpleConnection@64a27d27 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 42490]
2022-08-11 03:10:33 [main] INFO  c.n.l.redis.dbs.DbsApplicationTests - Started DbsApplicationTests in 1.114 seconds (JVM running for 6.651)
2022-08-11 03:10:33 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-11 03:10:33 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-11 03:10:33 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-11 03:10:33 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 03:10:33 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-11 03:10:33 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2022-08-11 03:10:33 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-11 03:10:34 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-11 03:10:34 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 03:10:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2022-08-11 03:10:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2022-08-11 03:21:40 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 6.2.0.Final
2022-08-11 03:21:40 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 03:21:41 [main] INFO  o.s.c.b.c.PropertySourceBootstrapConfiguration - Located property source: [BootstrapPropertySource {name='bootstrapProperties-config/application/'}, BootstrapPropertySource {name='bootstrapProperties-config/defaults/'}]
2022-08-11 03:21:41 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - No active profile set, falling back to default profiles: default
2022-08-11 03:21:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:21:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 03:21:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2022-08-11 03:21:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:21:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2022-08-11 03:21:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisAgendaRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 03:21:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.nobblecrafts.learn.redis.dbs.repository.RedisVoteRepository. If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: javax.persistence.Entity, javax.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository.
2022-08-11 03:21:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 JPA repository interfaces.
2022-08-11 03:21:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2022-08-11 03:21:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2022-08-11 03:21:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 66 ms. Found 2 Redis repository interfaces.
2022-08-11 03:21:42 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=b87a1e76-7f37-3964-9558-50d739cd3acb
2022-08-11 03:21:42 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2022-08-11 03:21:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2022-08-11 03:21:42 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2022-08-11 03:21:42 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2022-08-11 03:21:42 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.55]
2022-08-11 03:21:42 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2022-08-11 03:21:42 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1061 ms
2022-08-11 03:21:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2022-08-11 03:21:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2022-08-11 03:21:42 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2022-08-11 03:21:42 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 5.6.1.Final
2022-08-11 03:21:42 [main] INFO  o.h.annotations.common.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2022-08-11 03:21:43 [main] INFO  org.hibernate.dialect.Dialect - HHH000400: Using dialect: org.hibernate.dialect.PostgreSQL9Dialect
2022-08-11 03:21:43 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2022-08-11 03:21:43 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 03:21:43 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Scheduler Exchange created: scheduler-agenda
2022-08-11 03:21:43 [main] INFO  c.n.l.r.dbs.config.AMQPConfiguration - Admin Exchange created: admin-agenda
2022-08-11 03:21:44 [main] WARN  o.s.c.l.c.LoadBalancerCacheAutoConfiguration$LoadBalancerCaffeineWarnLogger - Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2022-08-11 03:21:44 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 5 endpoint(s) beneath base path '/actuator'
2022-08-11 03:21:44 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2022-08-11 03:21:44 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 39797 (http) with context path ''
2022-08-11 03:21:44 [main] INFO  o.s.c.c.s.ConsulServiceRegistry - Registering service with consul: NewService{id='scheduler-0', name='scheduler', tags=[], address='192.168.0.39', meta={secure=false}, port=39797, enableTagOverride=null, check=Check{script='null', dockerContainerID='null', shell='null', interval='10s', ttl='null', http='http://192.168.0.39:39797/actuator/health', method='null', header={}, tcp='null', timeout='null', deregisterCriticalServiceAfter='null', tlsSkipVerify=null, status='null', grpc='null', grpcUseTLS=null}, checks=null}
2022-08-11 03:21:44 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Attempting to connect to: [localhost:5672]
2022-08-11 03:21:44 [main] INFO  o.s.a.r.c.CachingConnectionFactory - Created new connection: rabbitConnectionFactory#7c8cea05:0/SimpleConnection@69780093 [delegate=amqp://guest@127.0.0.1:5672/, localPort= 44474]
2022-08-11 03:21:44 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - Started AssociateControllerTest in 4.093 seconds (JVM running for 4.644)
2022-08-11 03:21:44 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Thu Aug 11 03:21:45 BRT 2022, end=Thu Aug 11 03:22:05 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-11 03:21:44 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Thu Aug 11 03:21:45 BRT 2022, end=Thu Aug 11 03:22:05 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-11 03:21:44 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Thu Aug 11 03:20:45 BRT 2022
AgendaDTO(id=1, start=Thu Aug 11 03:20:45 BRT 2022, end=Thu Aug 11 03:22:05 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-11 03:21:44 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:45 BRT 2022, end=Thu Aug 11 03:22:05 BRT 2022)


2022-08-11 03:21:44 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Vote is: com.nobblecrafts.learn.redis.dbs.domain.Vote@56c95789


2022-08-11 03:21:44 [VotationThreadPool1] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:45 BRT 2022, end=Thu Aug 11 03:22:05 BRT 2022) foi iniciada
2022-08-11 03:21:45 [http-nio-auto-1-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2022-08-11 03:21:45 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2022-08-11 03:21:45 [http-nio-auto-1-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2022-08-11 03:21:46 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:45 BRT 2022, end=Thu Aug 11 03:22:05 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:46 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 
Response -> 200 OK
2022-08-11 03:21:46 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Agenda is: AgendaDTO(id=1, start=Thu Aug 11 03:21:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-11 03:21:46 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 
Agendando agenda AgendaDTO(id=1, start=Thu Aug 11 03:21:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null) com delay de -60000ms

2022-08-11 03:21:46 [main] INFO  c.n.l.r.d.helper.VoteSchedulerHelper - 

Agenda agendada para: Thu Aug 11 03:20:47 BRT 2022
AgendaDTO(id=1, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null)


2022-08-11 03:21:46 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - 

RUNNABLE: AGENDA: RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022)


2022-08-11 03:21:46 [main] INFO  c.n.l.r.d.i.AssociateControllerTest - 

Votes are: [com.nobblecrafts.learn.redis.dbs.domain.Vote@45e931a9, com.nobblecrafts.learn.redis.dbs.domain.Vote@fed510f, com.nobblecrafts.learn.redis.dbs.domain.Vote@4a35aed6, com.nobblecrafts.learn.redis.dbs.domain.Vote@54c76c23, com.nobblecrafts.learn.redis.dbs.domain.Vote@48f6f272, com.nobblecrafts.learn.redis.dbs.domain.Vote@30f929ff, com.nobblecrafts.learn.redis.dbs.domain.Vote@48fbb1bc, com.nobblecrafts.learn.redis.dbs.domain.Vote@21d85933, com.nobblecrafts.learn.redis.dbs.domain.Vote@431bf770, com.nobblecrafts.learn.redis.dbs.domain.Vote@3ad49704, com.nobblecrafts.learn.redis.dbs.domain.Vote@123e87cd, com.nobblecrafts.learn.redis.dbs.domain.Vote@2fb5e706, com.nobblecrafts.learn.redis.dbs.domain.Vote@238fcafa, com.nobblecrafts.learn.redis.dbs.domain.Vote@2fd2a6a4, com.nobblecrafts.learn.redis.dbs.domain.Vote@6114ed6f, com.nobblecrafts.learn.redis.dbs.domain.Vote@49d4a2cf, com.nobblecrafts.learn.redis.dbs.domain.Vote@3c1133ad, com.nobblecrafts.learn.redis.dbs.domain.Vote@269bf9e6, com.nobblecrafts.learn.redis.dbs.domain.Vote@250c5892]


2022-08-11 03:21:46 [VotationThreadPool2] INFO  c.n.learn.redis.dbs.task.OpenVoting - Votação da agenda RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022) foi iniciada
2022-08-11 03:21:47 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [http-nio-auto-1-exec-10] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [http-nio-auto-1-exec-1] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [http-nio-auto-1-exec-2] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [http-nio-auto-1-exec-3] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [http-nio-auto-1-exec-4] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [http-nio-auto-1-exec-5] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [http-nio-auto-1-exec-6] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [http-nio-auto-1-exec-7] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [http-nio-auto-1-exec-8] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [http-nio-auto-1-exec-9] INFO  c.n.l.r.d.s.impl.AssociateService - 


All Agendas: [RedisAgenda(id=1, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:20:47 BRT 2022, end=Thu Aug 11 03:22:07 BRT 2022), RedisAgenda(id=2, associates=[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], votes=null, start=Thu Aug 11 03:10:31 BRT 2022, end=Thu Aug 11 03:10:51 BRT 2022)]



2022-08-11 03:21:47 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Waiting for workers to finish.
2022-08-11 03:21:48 [SpringApplicationShutdownHook] INFO  o.s.a.r.l.SimpleMessageListenerContainer - Successfully waited for workers to finish.
2022-08-11 03:21:48 [SpringApplicationShutdownHook] INFO  o.s.c.c.s.ConsulServiceRegistry - Deregistering service with consul: scheduler-0
2022-08-11 03:21:48 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2022-08-11 03:21:48 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2022-08-11 03:21:48 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
